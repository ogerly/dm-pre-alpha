var Le=Object.defineProperty;var De=(t,e,r)=>e in t?Le(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Se=(t,e,r)=>(De(t,typeof e!="symbol"?e+"":e,r),r);import{r as Te,d as ke,a as k,o as B,b as be,w as _e,c as a,e as i,u as we,f as s,g as V,h as M,i as L,j as X,t as h,k as P,F as U,l as A,m as G,n as ae,p as ge,q as D,s as z,v as Ie,x as re,y as Oe,z as Ue,A as Re,B as Fe,C as Ae,D as J,E as Q,G as Pe,H as fe,I as Ve,J as He,K as Ne,L as ze,M as Be,N as qe}from"./vendor-DYB0M6sJ.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const u of n)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function r(n){const u={};return n.integrity&&(u.integrity=n.integrity),n.referrerPolicy&&(u.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?u.credentials="include":n.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(n){if(n.ep)return;n.ep=!0;const u=r(n);fetch(n.href,u)}})();function Je(t,e){let r=0;const o={sharedInterests:[],complementarySkills:[],matchingAttributes:[]};if(t.interests&&e.interests){const n=t.interests.filter(u=>e.interests.includes(u));o.sharedInterests=n,r+=n.length*10}if(t.skills&&e.skills){const n=t.skills.filter(u=>!e.skills.includes(u));o.complementarySkills=n,r+=n.length*5}if(t.goals&&e.goals){const n=ue(t.goals,e.goals);r+=n*15,n>.3&&o.matchingAttributes.push({category:"Ziele",similarity:Math.round(n*100)+"%"})}if(t.dreammallGoals&&e.dreammallGoals){const n=ue(t.dreammallGoals,e.dreammallGoals);r+=n*20,n>.3&&o.matchingAttributes.push({category:"DreamMall Ziele",similarity:Math.round(n*100)+"%"})}if(t.collaborationPreferences&&e.collaborationPreferences){const n=ue(t.collaborationPreferences,e.collaborationPreferences);r+=n*15,n>.3&&o.matchingAttributes.push({category:"Zusammenarbeit",similarity:Math.round(n*100)+"%"})}if(t.ownProjects&&e.ownProjects){const n=Ge(t.ownProjects,e.ownProjects);r+=n*10,n>0&&o.matchingAttributes.push({category:"Ähnliche Projekte",value:"Gemeinsamer Projektbereich"})}if(t.valueOrientation&&e.valueOrientation){const n=ue(t.valueOrientation,e.valueOrientation);r+=n*10,n>.4&&o.matchingAttributes.push({category:"Werteorientierung",similarity:Math.round(n*100)+"%"})}return{score:r,matchDetails:o,percentage:Math.min(100,Math.round(r/80*100))}}function ue(t,e){const r=new Set(t.toLowerCase().split(/\W+/).filter(d=>d.length>3)),o=new Set(e.toLowerCase().split(/\W+/).filter(d=>d.length>3));let n=0;r.forEach(d=>{o.has(d)&&n++});const u=new Set([...r,...o]).size;return u>0?n/u:0}function Ge(t,e){if(!t.length||!e.length)return 0;let r=0;for(const o of t)for(const n of e)if(o.description&&n.description){const u=ue(o.description,n.description);r=Math.max(r,u)}return r}function Ce(t,e){if(!t.length||!e.length)return 0;let r=0;return t.forEach(o=>{e.some(n=>n.toLowerCase()===o.toLowerCase())&&r++}),r/t.length*100}function We(t,e,r=10){return!t||!e||!Array.isArray(e)?[]:e.filter(u=>u.id!==t.id).map(u=>{const d=Je(t,u),v=t.skills||[],l=t.interests||[],c=u.skills||[],g=u.interests||[],y=Ce(v,c),p=Ce(l,g);return{user:u,score:d.percentage,details:{...d.matchDetails,skillOverlap:y.toFixed(1)+"%",interestOverlap:p.toFixed(1)+"%"}}}).sort((u,d)=>d.score-u.score).slice(0,r)}const ce={DEBUG:0,INFO:1,WARN:2,ERROR:3},xe=t=>({debug:ce.DEBUG,info:ce.INFO,warn:ce.WARN,error:ce.ERROR})[t==null?void 0:t.toLowerCase()]||ce.DEBUG,Ye=!0,Ke=xe("debug"),q=Te({logs:[],isVisible:Ye,filter:"all"});class Xe{constructor(){this.maxLogs=100,this.filteredLogs=[]}debug(e,r={}){this._addLog("DEBUG",e,r)}info(e,r={}){this._addLog("INFO",e,r)}warn(e,r={}){this._addLog("WARN",e,r)}error(e,r=null){const o={error:r};this._addLog("ERROR",e,o),console.error(`[ERROR] ${e}`,r)}_addLog(e,r,o={}){if(xe(e.toLowerCase())>=Ke){const n=new Date,u={id:Date.now()+Math.random().toString(36).substr(2,5),timestamp:n,formattedTime:n.toLocaleTimeString(),message:r,level:e,levelName:e,metadata:o};q.logs.unshift(u),q.logs.length>this.maxLogs&&q.logs.pop()}}trackComponentMount(e){this.debug(`Component mounted: ${e}`,{type:"component",lifecycle:"mount"})}trackComponentUnmount(e){this.debug(`Component unmounted: ${e}`,{type:"component",lifecycle:"unmount"})}trackViewLoad(e){this.info(`View loaded: ${e}`,{type:"view",lifecycle:"load"})}clear(){q.logs=[]}toggleVisibility(){q.isVisible=!q.isVisible}setFilter(e){q.filter=e}get filteredLogs(){if(q.filter==="all")return q.logs;const e=xe(q.filter);return q.logs.filter(r=>r.level===e)}get logs(){return q.logs}get isVisible(){return q.isVisible}get filter(){return q.filter}}const f=new Xe,ee=ke("user",{state:()=>({users:[],authUsers:[],selectedUser:null,userForMatching:null,matchResults:[],searchTerm:"",isLoading:!1,lastError:null,editingUser:null,creatingUser:!1,STORAGE_KEY:"dreammall_profiles",DATA_JSON_PATHS:["/src/assets/store-test-user-data.json","/assets/store-test-user-data.json","./src/assets/store-test-user-data.json","../src/assets/store-test-user-data.json","./assets/store-test-user-data.json","../assets/store-test-user-data.json","store-test-user-data.json","data.json"],AUTH_JSON_PATHS:["/src/assets/store-test-login-data.json","/assets/store-test-login-data.json","./src/assets/store-test-login-data.json","../src/assets/store-test-login-data.json","./assets/store-test-login-data.json","../assets/store-test-login-data.json","store-test-login-data.json"],isCreating:!1}),getters:{allUsers:t=>t.users,filteredUsers:t=>{if(!t.searchTerm)return t.users;const e=t.searchTerm.toLowerCase();return t.users.filter(r=>r.name&&r.name.toLowerCase().includes(e)||r.skills&&r.skills.some(o=>o.toLowerCase().includes(e))||r.interests&&r.interests.some(o=>o.toLowerCase().includes(e)))},getUserById:t=>e=>t.users.find(r=>r.id===Number(e))||null,getMatchingResults:t=>t.matchResults},actions:{async loadAuthUsers(){try{for(const t of this.AUTH_JSON_PATHS)try{f.debug(`Attempting to load auth data from: ${t}`);const e=await fetch(t);if(e.ok)return this.authUsers=await e.json(),f.info(`Successfully loaded ${this.authUsers.length} auth users from ${t}`),this.authUsers}catch(e){f.warn(`Error loading auth data from ${t}:`,e.message)}return f.error("Failed to load auth data from any path"),this.authUsers=[],[]}catch(t){return f.error("Error in loadAuthUsers:",t),this.authUsers=[],[]}},async loadUsers(t=!1){try{if(this.isLoading=!0,this.lastError=null,await this.loadAuthUsers(),t)return f.debug("Force reset requested, loading from JSON files"),await this.loadAndMergeDataJson(),this.users;const e=this.getAllProfilesFromStorage();return!e||e.length===0?(f.debug("No existing profiles found, importing from JSON files"),await this.loadAndMergeDataJson()):this.users=e,this.users}catch(e){return f.error("Error loading users:",e),this.lastError=e.message||"Failed to load users",this.users=this.createFallbackProfiles(),this.users}finally{this.isLoading=!1}},getAllProfilesFromStorage(){try{const t=localStorage.getItem(this.STORAGE_KEY),e=t?JSON.parse(t):[];return f.debug(`Found ${e.length} profiles in localStorage`),e}catch(t){return f.error("Error getting profiles from storage:",t),[]}},async loadAndMergeDataJson(){let t=null;for(const e of this.DATA_JSON_PATHS)try{f.debug(`Attempting to load user data from: ${e}`);const r=await fetch(e);if(r.ok){t=await r.json(),f.info(`Successfully loaded ${t.length} profiles from ${e}`);break}else f.warn(`Failed to load from ${e}: ${r.status}`)}catch(r){f.warn(`Error loading from ${e}:`,r.message)}t||(f.error("Failed to load user data from any path"),this.authUsers.length>0?t=this.authUsers.map(e=>({id:e.id,name:e.email.split("@")[0],email:e.email,role:e.role||"user",bio:"Minimal user profile",skills:[],interests:[]})):t=[{id:999,name:"Emergency User",email:"emergency@example.com",role:"admin",bio:"Emergency fallback user",skills:["Emergency","Recovery"],interests:["System Restoration"]}]);try{const e=t.map(r=>{const o=this.authUsers.find(n=>n.id===r.id);return o?r.id===2?{...r,email:o.email||r.email,password:o.password,role:"admin"}:{...r,email:o.email||r.email,password:o.password,role:o.role||r.role||"user"}:r});return this.authUsers.forEach(r=>{e.some(o=>o.id===r.id)||(f.debug(`Adding missing auth user with id ${r.id} to profiles`),e.push({id:r.id,name:r.email.split("@")[0],email:r.email,password:r.password,role:r.role||"user",bio:"Automatically created user",skills:[],interests:[],iconCategories:{}}))}),f.info(`Final merged profiles count: ${e.length}`),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e)),this.users=e,e}catch(e){f.error("Error during profile merging:",e);const r=this.createFallbackProfiles();return this.users=r,r}},createFallbackProfiles(){f.warn("Creating fallback profiles");let t=[];return this.authUsers.length>0?t=this.authUsers.map(e=>({id:e.id,name:e.email.split("@")[0],email:e.email,password:e.password,role:e.id===2?"admin":e.role||"user",bio:"Fallback user profile",skills:[],interests:[],iconCategories:{}})):t=[{id:2,name:"Test User",email:"test@example.com",password:"test123",role:"admin",bio:"Fallback admin user",skills:[],interests:[],iconCategories:{}}],localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t)),f.info(`Fallback: saved ${t.length} minimal profiles`),t},async resetToInitialData(){return localStorage.removeItem(this.STORAGE_KEY),await this.loadAuthUsers(),this.loadAndMergeDataJson()},selectUser(t){this.selectedUser=t},clearSelectedUser(){this.selectedUser=null},selectForMatching(t){this.userForMatching=t,this.matchResults=We(t,this.users)},clearMatching(){this.userForMatching=null,this.matchResults=[]},setSearchTerm(t){this.searchTerm=t},startEditing(t){this.editingUser=t},startCreating(){this.creatingUser=!0,this.isCreating=!0},cancelEditing(){this.editingUser=null,this.creatingUser=!1},async saveUser(t){try{this.isLoading=!0,this.lastError=null;const e=this.getAllProfilesFromStorage(),r=e.findIndex(o=>o.id===t.id);return r>=0?e[r]=t:(t.id=e.length>0?Math.max(...e.map(o=>o.id))+1:1,e.push(t)),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e)),this.users=e,this.editingUser=null,this.creatingUser=!1,t}catch(e){throw f.error("Error saving user:",e),this.lastError=e.message||"Failed to save user",e}finally{this.isLoading=!1}},async deleteUser(t){try{this.isLoading=!0,this.lastError=null;const r=this.getAllProfilesFromStorage().filter(o=>o.id!==t);return localStorage.setItem(this.STORAGE_KEY,JSON.stringify(r)),this.users=r,this.userForMatching&&this.userForMatching.id===t&&this.clearMatching(),this.selectedUser&&this.selectedUser.id===t&&this.clearSelectedUser(),!0}catch(e){return f.error("Error deleting user:",e),this.lastError=e.message||"Failed to delete user",!1}finally{this.isLoading=!1}},exportAllUsers(){try{const t=this.getAllProfilesFromStorage(),e="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t,null,2)),r=document.createElement("a");return r.setAttribute("href",e),r.setAttribute("download","dreamMall_profiles.json"),document.body.appendChild(r),r.click(),r.remove(),!0}catch(t){return f.error("Error exporting users:",t),this.lastError=t.message||"Failed to export users",alert("Fehler beim Exportieren der Profile."),!1}},async importUsers(t){try{this.isLoading=!0,this.lastError=null,await this.loadAuthUsers();const e=t.map(r=>{const o=this.authUsers.find(n=>n.id===r.id);return o?{...r,email:o.email||r.email,password:o.password,role:r.id===2?"admin":o.role||r.role||"user"}:r});return localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e)),this.users=e,!0}catch(e){return f.error("Error importing users:",e),this.lastError=e.message||"Failed to import users",!1}finally{this.isLoading=!1}},updateAllUsers(t){try{if(!Array.isArray(t))throw new Error("Data is not an array");return localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t)),this.users=t,!0}catch(e){return f.error("Error updating all users:",e),this.lastError=e.message||"Failed to update all users",!1}},extractCompanies(){const t=[];return this.users.forEach(e=>{var r;if((r=e.iconCategories)!=null&&r.firma){const o=e.iconCategories.firma.coordinates;o&&Array.isArray(o)&&o.length===2&&t.push({id:`firma-${e.id}`,name:e.iconCategories.firma.name||"Firma",description:e.iconCategories.firma.description||"",location:{address:e.iconCategories.firma.address||"",coordinates:o},owner:e})}e.companies&&e.companies.forEach((o,n)=>{const u=o.coordinates;u&&Array.isArray(u)&&u.length===2&&t.push({id:`company-${e.id}-${n}`,name:o.name||"Unternehmen",description:o.description||"",location:{address:o.address||"",coordinates:u},owner:e})})}),t},extractProjects(){const t=[];return this.users.forEach(e=>{var r;(r=e.iconCategories)!=null&&r.projekt&&Array.isArray(e.iconCategories.projekt)&&e.iconCategories.projekt.forEach((o,n)=>{const u=o.coordinates;u&&Array.isArray(u)&&u.length===2&&t.push({id:`icon-project-${e.id}-${n}`,name:o.name||"Projekt",description:o.description||"",status:"Aktiv",location:{address:o.address||"",coordinates:u},owner:e})}),["ownProjects","contributedProjects"].forEach(o=>{e[o]&&Array.isArray(e[o])&&e[o].forEach((n,u)=>{const d=n.coordinates;d&&Array.isArray(d)&&d.length===2&&t.push({id:`${o}-${e.id}-${u}`,name:n.name||"Projekt",description:n.description||"",status:"Aktiv",location:{address:n.address||"",coordinates:d},owner:e})})})}),t},extractTables(){const t=[];return this.users.forEach(e=>{var r;(r=e.iconCategories)!=null&&r.tisch&&Array.isArray(e.iconCategories.tisch)&&e.iconCategories.tisch.forEach((o,n)=>{const u=o.coordinates;u&&Array.isArray(u)&&u.length===2&&t.push({id:`table-${e.id}-${n}`,name:o.name||"Meetup",description:o.description||"",location:{address:o.location||"",coordinates:u},host:{name:e.name,details:""},owner:e})})}),t},async updateUserRole(t,e){try{if(this.isLoading=!0,this.lastError=null,e!=="admin"&&e!=="user")throw new Error('Invalid role. Must be "admin" or "user"');const r=this.getAllProfilesFromStorage(),o=r.findIndex(n=>n.id===t);if(o===-1)throw new Error(`User with ID ${t} not found`);return r[o].role=e,localStorage.setItem(this.STORAGE_KEY,JSON.stringify(r)),this.users=r,!0}catch(r){return f.error("Error updating user role:",r),this.lastError=r.message||"Failed to update user role",!1}finally{this.isLoading=!1}},logUserRoles(){f.debug("Current users and their roles:"),this.users.forEach(t=>{f.debug(`User: ${t.name}, ID: ${t.id}, Email: ${t.email}, Role: ${t.role||"undefined"}`)}),f.debug(`
Auth users:`),this.authUsers.forEach(t=>{f.debug(`Auth User: ID: ${t.id}, Email: ${t.email}, Role: ${t.role||"undefined"}`)});try{const t=localStorage.getItem(this.STORAGE_KEY);if(t){const e=JSON.parse(t);f.debug(`
Users in localStorage:`),e.forEach(r=>{f.debug(`User: ${r.name}, ID: ${r.id}, Role: ${r.role||"undefined"}`)})}}catch(t){f.error("Error reading localStorage:",t)}}}}),W=ke("auth",{state:()=>({currentUser:null,isAuthenticated:!1,accessToken:null,rememberMe:!1,lastError:null}),getters:{user:t=>t.currentUser,token:t=>t.accessToken,isAdmin:t=>{var e;return((e=t.currentUser)==null?void 0:e.role)==="admin"}},actions:{async login(t,e,r=!1){try{this.rememberMe=r,f.info(`User logged in: ${t}`)}catch{}}}}),oe=ke("ui",{state:()=>({activeTab:"home",isChatOpen:!1,theme:"light"}),actions:{setActiveTab(t){this.activeTab=t},toggleChat(){this.isChatOpen=!this.isChatOpen},setTheme(t){this.theme=t}}});function Y(t){const e=k(!1),r=k(!1),o=k(""),n={debug:(p,m)=>f.debug(p,{component:t,...m}),info:(p,m)=>f.info(p,{component:t,...m}),warn:(p,m)=>f.warn(p,{component:t,...m}),error:(p,m,$)=>f.error(p,m,{component:t,...$})};return B(()=>{f.trackComponentMount(t)}),be(()=>{f.trackComponentUnmount(t)}),{isLoading:e,hasError:r,errorMessage:o,errorLogger:n,trackAsyncOperation:async(p,m)=>{e.value=!0,r.value=!1,o.value="";try{n.debug(`Starting operation: ${p}`);const $=await m();return n.debug(`Successfully completed: ${p}`),$}catch($){throw r.value=!0,o.value=$.message||"An error occurred",n.error(`Operation failed: ${p}`,$),$}finally{e.value=!1}},trackChatConnection:(p,m=null,$={})=>{p==="connected"?n.info(`Chat connected with socket ID: ${m}`,{category:"chat-connection",socketId:m,...$}):n.warn("Chat disconnected",{category:"chat-connection",lastSocketId:m,...$})},trackChatMessage:(p,m,$=!0)=>{const j=p==="sent"?"Sent message":"Received message";$?n.debug(`${j}`,{category:"chat-message",type:p,messageId:m.id||"unknown",timestamp:m.timestamp||new Date().toISOString(),recipientId:m.to||"all",senderId:m.from||"unknown"}):n.warn(`Failed to ${p} message`,{category:"chat-message",type:p,message:m,error:"Message could not be processed"})},trackSignaling:(p,m,$={})=>{n.debug(`WebRTC signaling: ${p}`,{category:"webrtc",type:p,peerId:m,...$})},trackRoomEvent:(p,m,$={})=>{n.info(`Room ${p}: ${m}`,{category:"chat-room",event:p,roomId:m,...$})},trackChatError:(p,m,$={})=>{n.error(`Chat error in ${p}`,m,{category:"chat-error",context:p,...$}),r.value=!0,o.value=m.message||`Error in chat ${p}`},trackUserStatus:(p,m)=>{n.debug(`User ${p} is now ${m}`,{category:"chat-user-status",userId:p,status:m})}}}function Ze(){const t=k(!1),e=typeof document<"u"?document.documentElement:null;B(()=>{const d=localStorage.getItem("color-theme");d==="dark"||d===null&&window.matchMedia("(prefers-color-scheme: dark)").matches?t.value=!0:t.value=!1,r()}),_e(t,()=>{r(),o()});function r(){e&&(t.value?e.classList.add("dark"):e.classList.remove("dark"))}function o(){localStorage.setItem("color-theme",t.value?"dark":"light")}function n(){t.value=!t.value}function u(d){t.value=!!d}return{isDark:t,toggleDarkMode:n,setDarkMode:u}}const je=Ze(),Qe={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},et={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},tt={__name:"DarkModeToggle",setup(t){const{isDark:e,toggleDarkMode:r}=je;return(o,n)=>(i(),a("button",{type:"button",class:"rounded-md p-2 text-gray-500 hover:bg-gray-100 focus:outline-none dark:text-gray-400 dark:hover:bg-gray-800","aria-label":"Toggle dark mode",onClick:n[0]||(n[0]=(...u)=>we(r)&&we(r)(...u))},[we(e)?(i(),a("svg",Qe,n[1]||(n[1]=[s("path",{"fill-rule":"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z","clip-rule":"evenodd"},null,-1)]))):(i(),a("svg",et,n[2]||(n[2]=[s("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"},null,-1)])))]))}},N=(t,e)=>{const r=t.__vccOpts||t;for(const[o,n]of e)r[o]=n;return r},st=V({name:"AppHeader",components:{DarkModeToggle:tt},setup(){const t=G(),e=W(),r=oe(),{errorLogger:o}=Y("AppHeader"),n=k(!1),u=[{name:"Dashboard",path:"/"},{name:"Matching",path:"/matching"},{name:"Projects",path:"/projects"},{name:"Table",path:"/table"},{name:"Map",path:"/map"},{name:"Video Chat",path:"/videochat"},{name:"Chat",path:"/chat"}],d=k(3);return{authStore:e,uiStore:r,navigationItems:u,isMobileMenuOpen:n,unreadMessages:d,toggleMobileMenu:()=>{n.value=!n.value},toggleChat:()=>{o.debug("Chat toggle clicked"),r.toggleChat(),d.value=0},handleLogout:()=>{try{o.debug("User logging out"),e.logout(),t.push("/login")}catch(g){o.error("Error during logout",g)}}}}}),rt={class:"bg-white shadow dark:bg-gray-800"},ot={class:"container mx-auto px-4 py-4"},nt={class:"flex justify-between items-center mb-2"},it={class:"flex items-center space-x-4"},at={key:0,class:"text-gray-600 hidden md:inline dark:text-gray-300"},lt={key:0,class:"ml-2 px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full"},dt={key:0,class:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-red-100 bg-red-600 rounded-full"},ct={class:"hidden md:flex space-x-4"},ut={key:0,class:"md:hidden mt-2 bg-gray-50 rounded-md p-2 dark:bg-gray-700"};function gt(t,e,r,o,n,u){const d=P("DarkModeToggle"),v=P("router-link");return i(),a("header",rt,[s("div",ot,[s("div",nt,[e[6]||(e[6]=s("div",{class:"flex items-center"},[s("h1",{class:"text-xl font-semibold text-gray-800 dark:text-white"}," DreamMall ")],-1)),s("div",it,[t.authStore.currentUser?(i(),a("span",at,[X(h(t.authStore.currentUser.name||t.authStore.currentUser.email)+" ",1),t.authStore.currentUser.role==="admin"?(i(),a("span",lt,"Admin")):M("",!0)])):M("",!0),L(d),s("button",{class:"p-2 text-gray-600 hover:text-blue-500 dark:text-gray-300 dark:hover:text-blue-400 relative",onClick:e[0]||(e[0]=(...l)=>t.toggleChat&&t.toggleChat(...l))},[e[4]||(e[4]=s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})],-1)),t.unreadMessages?(i(),a("span",dt,h(t.unreadMessages),1)):M("",!0)]),s("button",{class:"md:hidden text-gray-700 dark:text-gray-300",onClick:e[1]||(e[1]=(...l)=>t.toggleMobileMenu&&t.toggleMobileMenu(...l))},e[5]||(e[5]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])),s("button",{class:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md text-sm",onClick:e[2]||(e[2]=(...l)=>t.handleLogout&&t.handleLogout(...l))}," Logout ")])]),s("nav",ct,[(i(!0),a(U,null,A(t.navigationItems,l=>(i(),ae(v,{key:l.path,to:l.path,class:D(["px-3 py-2 rounded-md text-sm font-medium transition",[t.$route.path===l.path?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"]])},{default:ge(()=>[X(h(l.name),1)]),_:2},1032,["to","class"]))),128))]),t.isMobileMenuOpen?(i(),a("div",ut,[(i(!0),a(U,null,A(t.navigationItems,l=>(i(),ae(v,{key:l.path,to:l.path,class:D(["block px-3 py-2 rounded-md text-base font-medium transition mb-1",[t.$route.path===l.path?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"]]),onClick:e[3]||(e[3]=c=>t.isMobileMenuOpen=!1)},{default:ge(()=>[X(h(l.name),1)]),_:2},1032,["to","class"]))),128))])):M("",!0)])])}const Z=N(st,[["render",gt]]),mt=V({name:"AppActions",setup(){G();const t=Ie(),e=oe(),{errorLogger:r}=Y("AppActions"),o=k(!1),n=k(3),u=z(()=>t.path==="/chat"||t.path==="/videochat"),d=()=>{r.debug("Opening chat"),e.toggleChat(),n.value=0},v=()=>{r.debug("Help button clicked"),e.toggleHelp()},l=()=>{window.scrollTo({top:0,behavior:"smooth"})},c=()=>{o.value=window.scrollY>300};return B(()=>{window.addEventListener("scroll",c)}),be(()=>{window.removeEventListener("scroll",c)}),{uiStore:e,isOnChatPage:u,unreadMessages:n,showScrollTop:o,openChat:d,toggleHelp:v,scrollToTop:l}}}),ht={class:"fixed bottom-6 right-6 flex flex-col space-y-2"},pt={key:0,class:"absolute -top-2 -right-2 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-xs text-white"};function ft(t,e,r,o,n,u){return i(),a("div",ht,[t.isOnChatPage?M("",!0):(i(),a("button",{key:0,class:"bg-blue-500 hover:bg-blue-600 text-white p-3 rounded-full shadow-lg transition-all transform hover:scale-105 relative",onClick:e[0]||(e[0]=(...d)=>t.openChat&&t.openChat(...d))},[e[3]||(e[3]=s("span",{class:"sr-only"},"Open Chat",-1)),e[4]||(e[4]=s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})],-1)),t.unreadMessages?(i(),a("span",pt,h(t.unreadMessages),1)):M("",!0)])),s("button",{class:"bg-purple-500 hover:bg-purple-600 text-white p-3 rounded-full shadow-lg transition-all transform hover:scale-105",onClick:e[1]||(e[1]=(...d)=>t.toggleHelp&&t.toggleHelp(...d))},e[5]||(e[5]=[s("span",{class:"sr-only"},"Help",-1),s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])),t.showScrollTop?(i(),a("button",{key:1,class:"bg-gray-600 hover:bg-gray-700 text-white p-3 rounded-full shadow-lg transition-all transform hover:scale-105",onClick:e[2]||(e[2]=(...d)=>t.scrollToTop&&t.scrollToTop(...d))},e[6]||(e[6]=[s("span",{class:"sr-only"},"Back to top",-1),s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})],-1)]))):M("",!0)])}const te=N(mt,[["render",ft]]),bt=V({name:"ChatOverlay",setup(){return{uiStore:oe()}}}),vt={class:"fixed bottom-20 right-6 w-80 bg-white rounded-lg shadow-xl border border-gray-200 overflow-hidden"},yt={class:"flex justify-between items-center p-4 border-b"};function wt(t,e,r,o,n,u){return i(),a("div",vt,[s("div",yt,[e[2]||(e[2]=s("h3",{class:"font-semibold"}," Chat ",-1)),s("button",{class:"text-gray-500 hover:text-gray-700",onClick:e[0]||(e[0]=(...d)=>t.uiStore.toggleChat&&t.uiStore.toggleChat(...d))},e[1]||(e[1]=[s("span",{class:"sr-only"},"Close",-1),s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]))]),e[3]||(e[3]=re('<div class="h-64 overflow-y-auto p-4 bg-gray-50"><p class="text-center text-gray-500"> Chat messages will appear here </p></div><div class="p-4 border-t"><div class="flex space-x-2"><input type="text" placeholder="Type a message..." class="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"><button class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md"> Send </button></div></div>',2))])}const Ee=N(bt,[["render",wt]]),xt=V({name:"HelpOverlay",setup(){const t=oe();return{closeHelp:()=>{t.toggleHelp()}}}}),kt={class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4"},$t={class:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col"},St={class:"px-6 py-4 border-b dark:border-gray-700 flex justify-between items-center"},Ct={class:"px-6 py-4 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-800"};function Mt(t,e,r,o,n,u){return i(),a("div",kt,[s("div",$t,[s("div",St,[e[3]||(e[3]=s("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Help ",-1)),s("button",{class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",onClick:e[0]||(e[0]=(...d)=>t.closeHelp&&t.closeHelp(...d))},e[2]||(e[2]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e[4]||(e[4]=re('<div class="p-6 overflow-y-auto flex-1"><div class="prose dark:prose-invert max-w-none"><h2>Getting Started</h2><p>Welcome to DreamMall! Here&#39;s how to get started with our platform.</p><h3>Navigation</h3><p>Use the navigation menu at the top to access different sections:</p><ul><li><strong>Dashboard</strong> - Overview of your account</li><li><strong>Matching</strong> - Find potential collaborators</li><li><strong>Projects</strong> - View and manage projects</li><li><strong>Map</strong> - Explore locations and resources</li><li><strong>Chat</strong> - Communicate with connections</li></ul><h3>Chat Features</h3><p>You can start a chat with any connection in the system by:</p><ol><li>Clicking on their profile</li><li>Using the chat button in the top navigation</li><li>Using the floating chat button on any page</li></ol></div></div>',1)),s("div",Ct,[s("button",{class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition",onClick:e[1]||(e[1]=(...d)=>t.closeHelp&&t.closeHelp(...d))}," Close ")])])])}const _t=N(xt,[["render",Mt]]);class Ut{constructor(){this.socket=null,this.connected=!1,this.socketId=null,this.handlers={chatMessage:[],connected:[],disconnected:[],newUser:[],userDisconnected:[],userCount:[]}}connect(){if(!this.socket)try{const e="https://your-production-socket-server.com";this.socket=Oe(e),this.socket.on("connect",()=>{this.connected=!0,this.socketId=this.socket.id,f.info(`Connected to server with ID: ${this.socketId}`),this._notifyHandlers("connected",{id:this.socketId})}),this.socket.on("disconnect",()=>{this.connected=!1,f.warn("Disconnected from server"),this._notifyHandlers("disconnected")}),this.socket.on("chatMessage",r=>{f.debug(`Received message: ${r.message} from ${r.id}`),this._notifyHandlers("chatMessage",r)}),this.socket.on("newUser",r=>{f.debug(`New user connected: ${r.id}`),this._notifyHandlers("newUser",r)}),this.socket.on("userDisconnected",r=>{f.debug(`User disconnected: ${r.id}`),this._notifyHandlers("userDisconnected",r)}),this.socket.on("userCount",r=>{f.debug(`User count updated: ${r}`),this._notifyHandlers("userCount",r)})}catch(e){throw f.error("Error connecting to socket server",e),e}}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null,this.connected=!1,this.socketId=null,f.info("Manually disconnected from server"))}sendMessage(e){if(!this.connected||!this.socket)return f.error("Cannot send message: not connected to server"),!1;try{return this.socket.emit("chatMessage",{message:e}),!0}catch(r){return f.error("Error sending message",r),!1}}on(e,r){this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(r)}off(e,r){this.handlers[e]&&(this.handlers[e]=this.handlers[e].filter(o=>o!==r))}_notifyHandlers(e,r){this.handlers[e]&&this.handlers[e].forEach(o=>{try{o(r)}catch(n){f.error(`Error in ${e} handler`,n)}})}isConnected(){return this.connected}getSocketId(){return this.socketId}}const I=new Ut;class At{constructor(){Se(this,"subscribers",[]);this.lintErrors=[],this.lintWarnings=[],this.lintStatus="unknown",this.lastRunTime=null}async runLintCheck(){return{success:!1,message:"Lint checks only available in development mode"}}processlintResults(e){if(!e){this.lintStatus="error";return}this.lintErrors=e.errors||[],this.lintWarnings=e.warnings||[],this.lintStatus=this.lintErrors.length>0?"fail":"pass",this.lintErrors.length>0?f.warn(`ESLint found ${this.lintErrors.length} errors`,{category:"lint",errorCount:this.lintErrors.length,warningCount:this.lintWarnings.length,sample:this.lintErrors.slice(0,3)}):this.lintWarnings.length>0?f.info(`ESLint found ${this.lintWarnings.length} warnings`,{category:"lint",warningCount:this.lintWarnings.length,sample:this.lintWarnings.slice(0,3)}):f.debug("ESLint check passed with no issues",{category:"lint"})}subscribe(e){return this.subscribers.push(e),()=>{this.subscribers=this.subscribers.filter(r=>r!==e)}}notifySubscribers(){this.subscribers.forEach(e=>{try{e({status:this.lintStatus,errors:this.lintErrors,warnings:this.lintWarnings,lastRunTime:this.lastRunTime})}catch(r){f.error("Error in lint status subscriber",r)}})}setResults(e){this.processlintResults(e),this.lastRunTime=new Date,this.notifySubscribers()}}const Me=new At,Pt=V({name:"ErrorConsole",setup(){const t=k("all"),e=k("disconnected"),r=k(0),o=k(null),n=k("logs"),u=k("unknown"),d=k([]),v=k([]),l=k(null),c=z(()=>!0),g=z(()=>{const w={debug:0,info:0,warn:0,error:0};return f.logs.forEach(O=>{const se=O.levelName.toLowerCase();Object.prototype.hasOwnProperty.call(w,se)&&w[se]++}),w}),y=z(()=>e.value==="connected"?`Connected (${r.value} online)`:e.value==="connecting"?"Connecting...":"Disconnected"),p=w=>{e.value="connected",o.value=new Date,w&&w.id&&f.debug("Socket connected",{category:"socket",socketId:w.id})},m=()=>{e.value="disconnected",r.value=0,f.warn("Socket disconnected",{category:"socket",lastPing:o.value})},$=w=>{r.value=w},j=w=>w.metadata?w.metadata.category==="socket"||w.metadata.category==="chat-connection"||w.metadata.category==="chat-message"||w.metadata.category==="chat-error"||w.message.toLowerCase().includes("socket"):!1,R=w=>w.metadata?w.metadata.category==="lint":!1,x=async()=>{try{u.value="running";const w=await Me.runLintCheck();w.success||f.error("Lint check failed",new Error(w.message))}catch(w){f.error("Error running lint check",w)}},b=w=>{u.value=w.status,d.value=w.errors||[],v.value=w.warnings||[],l.value=w.lastRunTime},C=w=>w?new Date(w).toLocaleTimeString():"";return B(()=>{I.isConnected()?e.value="connected":(e.value="connecting",I.connect()),I.on("connected",p),I.on("disconnected",m),I.on("userCount",$);const w=Me.subscribe(b);!c.value&&typeof window<"u";const O=setInterval(()=>{I.isConnected()?o.value=new Date:e.value==="connected"&&(e.value="connecting",I.disconnect(),setTimeout(()=>I.connect(),1e3))},3e4);be(()=>{I.off("connected",p),I.off("disconnected",m),I.off("userCount",$),w(),clearInterval(O)})}),_e(t,w=>{f.setFilter(w)}),{logger:f,currentFilter:t,socketStatus:e,socketStatusText:y,activeUsers:r,logCounts:g,hasMetadata:w=>!(!w.metadata||Object.keys(w.metadata).length===0||Object.keys(w.metadata).length===1&&"error"in w.metadata),formatMetadata:w=>{if(!w)return"";const O={};for(const se in w)se!=="error"&&(O[se]=w[se]);return Object.keys(O).length?JSON.stringify(O,null,2):""},isChatLog:j,isLintLog:R,activeTab:n,lintStatus:u,lintErrors:d,lintWarnings:v,lintLastRun:l,runLintCheck:x,formatLintTime:C,isProd:c}}}),jt={key:0,class:"error-console"};function Et(t,e,r,o,n,u){return t.logger.isVisible?(i(),a("div",jt)):M("",!0)}const Lt=N(Pt,[["render",Et],["__scopeId","data-v-ebc54bf6"]]),Dt=V({name:"App",components:{AppHeader:Z,AppActions:te,ChatOverlay:Ee,HelpOverlay:_t,ErrorConsole:Lt},setup(){const t=G(),e=W(),r=ee(),o=oe(),n=z(()=>!1),u="dream-0.2-alpha",d="3.3.8",v="Vue.js",l="3.3.8",c="0.0.0";return B(async()=>{try{f.info("App mounted - initializing data"),f.debug("Loading users..."),await r.loadUsers(),f.info("Users loaded successfully"),f.debug("Checking authentication..."),await e.checkAuth(),f.info("Authentication check completed"),f.info("Initial data loading complete")}catch(m){f.error("Error during app initialization",m)}}),B(()=>{const m=window.location.pathname.replace("./","/");m!=="/"&&!m.includes(".")&&t.push(m)}),{authStore:e,userStore:r,uiStore:o,isDev:n,handleLogout:()=>{try{f.debug("Logging out user..."),e.logout(),t.push("/login"),f.info("User logged out successfully")}catch(m){f.error("Failed to logout",m)}},handleTabChange:m=>{try{f.debug(`Changing tab to ${m}`),o.setActiveTab(m),t.push(`/${m}`)}catch($){f.error(`Failed to change tab to ${m}`,$)}},importProfilesFromFile:m=>{const $=m.target.files[0];if($){f.debug(`Importing profiles from file: ${$.name}`);const j=new FileReader;j.onload=R=>{var x;try{const b=JSON.parse(((x=R.target)==null?void 0:x.result)||"{}");r.importUsers(b),f.info(`Successfully imported ${Object.keys(b).length} profiles`)}catch(b){f.error("Failed to parse JSON file",b),alert("Invalid JSON file format")}},j.readAsText($)}},version:u,vueVersion:d,framework:v,frameworkVersion:l,inspiraUiVersion:c}}}),Tt={class:"app"},It={class:"main-content"};function Ot(t,e,r,o,n,u){const d=P("AppHeader"),v=P("router-view"),l=P("AppActions"),c=P("ChatOverlay"),g=P("HelpOverlay"),y=P("ErrorConsole");return i(),a("div",Tt,[L(d),s("main",It,[L(v)]),L(l),t.uiStore.isChatOpen?(i(),ae(c,{key:0})):M("",!0),t.uiStore.isHelpOpen?(i(),ae(g,{key:1})):M("",!0),t.isDev?(i(),ae(y,{key:2})):M("",!0)])}const Rt=N(Dt,[["render",Ot]]),Ft={class:"fixed inset-0 -z-10 opacity-50","aria-hidden":"true"},Vt={class:"absolute inset-0"},Ht={__name:"ParticlesBg",setup(t){const e=k(null);let r=null,o=null,n=[];const u={particleCount:100,particleSize:2,speed:.5,lineDistance:150,lineWidth:.5};function d(){n=[];const c=e.value,g=c.width,y=c.height;for(let p=0;p<u.particleCount;p++)n.push({x:Math.random()*g,y:Math.random()*y,vx:(Math.random()-.5)*u.speed,vy:(Math.random()-.5)*u.speed,size:Math.random()*u.particleSize+1})}function v(){const c=e.value,g=window.devicePixelRatio||1;c.width=window.innerWidth*g,c.height=window.innerHeight*g,o.scale(g,g),d()}function l(){if(!e.value)return;const c=e.value,g=c.width,y=c.height;o.clearRect(0,0,g,y),o.fillStyle="rgba(255, 255, 255, 0.5)";for(let p=0;p<n.length;p++){const m=n[p];m.x+=m.vx,m.y+=m.vy,m.x<0&&(m.x=g),m.y<0&&(m.y=y),m.x>g&&(m.x=0),m.y>y&&(m.y=0),o.beginPath(),o.arc(m.x,m.y,m.size,0,Math.PI*2),o.fill();for(let $=p+1;$<n.length;$++){const j=n[$],R=m.x-j.x,x=m.y-j.y,b=Math.sqrt(R*R+x*x);b<u.lineDistance&&(o.beginPath(),o.strokeStyle=`rgba(255, 255, 255, ${1-b/u.lineDistance})`,o.lineWidth=u.lineWidth,o.moveTo(m.x,m.y),o.lineTo(j.x,j.y),o.stroke())}}r=requestAnimationFrame(l)}return B(()=>{o=e.value.getContext("2d"),v(),window.addEventListener("resize",v),r=requestAnimationFrame(l)}),Ue(()=>{window.removeEventListener("resize",v),r&&cancelAnimationFrame(r)}),(c,g)=>(i(),a("div",Ft,[g[0]||(g[0]=s("div",{class:"absolute inset-0 bg-gradient-to-b from-blue-900 to-blue-950"},null,-1)),s("div",Vt,[s("canvas",{ref_key:"canvas",ref:e,class:"h-full w-full"},null,512)])]))}},Nt=V({__name:"Sparkles",props:{background:{default:"#0d47a1"},particleColor:{default:"#ffffff"},minSize:{default:1},maxSize:{default:3},speed:{default:4},particleDensity:{default:120}},setup(t){const e=t,r=k(null),o=k(null),n=k([]),u=k(null);function d(){if(!o.value||!r.value)return;const p=window.devicePixelRatio||1,m=r.value.getBoundingClientRect();o.value.width=m.width*p,o.value.height=m.height*p,u.value&&u.value.scale(p,p)}function v(){const p=[],m=e.particleDensity;for(let $=0;$<m;$++){const R=Math.random()*.3+.7;p.push({x:Math.random()*100,y:Math.random()*100,size:Math.random()*(e.maxSize-e.minSize)+e.minSize,opacity:Math.random()*.5+.3,vx:(Math.random()-.5)*.05*R*e.speed,vy:((Math.random()-.5)*.05-.05*.3)*R*e.speed,phase:Math.random()*Math.PI*2,phaseSpeed:.015})}n.value=p}function l(){if(!u.value||!o.value)return;const p=o.value;u.value.clearRect(0,0,p.width,p.height),n.value=n.value.map(m=>{let $=m.x+m.vx,j=m.y+m.vy;$<-2&&($=102),$>102&&($=-2),j<-2&&(j=102),j>102&&(j=-2);const R=(m.phase+m.phaseSpeed)%(Math.PI*2),x=.3+(Math.sin(R)*.3+.3);return u.value.beginPath(),u.value.arc($*p.width/100,j*p.height/100,m.size,0,Math.PI*2),u.value.fillStyle=`${e.particleColor}${Math.floor(x*255).toString(16).padStart(2,"0")}`,u.value.fill(),{...m,x:$,y:j,phase:R,opacity:x}})}const{pause:c,resume:g}=Re(l,{immediate:!1});let y;return B(()=>{o.value&&(u.value=o.value.getContext("2d"),d(),v(),y=new ResizeObserver(d),r.value&&y.observe(r.value),g())}),Ue(()=>{c(),y&&r.value&&y.unobserve(r.value)}),(p,m)=>(i(),a("div",{ref_key:"containerRef",ref:r,class:"relative size-full overflow-hidden will-change-transform",style:Fe({background:p.background})},[s("canvas",{ref_key:"canvasRef",ref:o,class:"absolute inset-0 size-full"},null,512)],4))}}),zt=V({name:"LoginPage",components:{ParticlesBg:Ht,Sparkles:Nt},setup(){const t=G(),e=W(),{errorLogger:r}=Y("LoginPage"),o=k(""),n=k(""),u=k(!1),d=k(""),v=k(!1);return{email:o,password:n,rememberMe:u,error:d,isLoading:v,handleLogin:async()=>{if(!v.value){d.value="",v.value=!0;try{r.debug("Attempting login",{email:o.value}),await e.login(o.value,n.value,u.value),r.info("Login successful"),t.push("/")}catch(c){r.error("Login failed",c),d.value=c.message||"Failed to sign in. Please check your credentials."}finally{v.value=!1}}}}}}),Bt={class:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 relative overflow-hidden"},qt={class:"max-w-md w-full space-y-8 p-6 bg-white dark:bg-gray-800 rounded-xl shadow-lg z-10 relative"},Jt={class:"text-center relative"},Gt={key:0,class:"bg-red-50 dark:bg-red-900/30 p-4 rounded-md"},Wt={class:"text-sm text-red-800 dark:text-red-300"},Yt={class:"mt-1"},Kt={class:"mt-1"},Xt={class:"flex items-center justify-between"},Zt={class:"flex items-center"},Qt=["disabled"],es={key:0},ts={key:1};function ss(t,e,r,o,n,u){const d=P("ParticlesBg"),v=P("Sparkles");return i(),a("div",Bt,[L(d,{class:"absolute inset-0 z-0"}),s("div",qt,[s("div",Jt,[L(v,null,{default:ge(()=>e[4]||(e[4]=[s("h2",{class:"text-3xl font-bold text-gray-900 dark:text-white"}," DreamMall ",-1)])),_:1}),e[5]||(e[5]=s("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"}," Sign in to your account ",-1))]),s("form",{class:"mt-8 space-y-6",onSubmit:e[3]||(e[3]=Ae((...l)=>t.handleLogin&&t.handleLogin(...l),["prevent"]))},[t.error?(i(),a("div",Gt,[s("p",Wt,h(t.error),1)])):M("",!0),s("div",null,[e[6]||(e[6]=s("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Email address ",-1)),s("div",Yt,[J(s("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=l=>t.email=l),name:"email",type:"email",autocomplete:"email",required:"",class:"appearance-none block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"you@example.com"},null,512),[[Q,t.email]])])]),s("div",null,[e[7]||(e[7]=s("label",{for:"password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Password ",-1)),s("div",Kt,[J(s("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=l=>t.password=l),name:"password",type:"password",autocomplete:"current-password",required:"",class:"appearance-none block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"••••••••"},null,512),[[Q,t.password]])])]),s("div",Xt,[s("div",Zt,[J(s("input",{id:"remember-me","onUpdate:modelValue":e[2]||(e[2]=l=>t.rememberMe=l),name:"remember-me",type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700"},null,512),[[Pe,t.rememberMe]]),e[8]||(e[8]=s("label",{for:"remember-me",class:"ml-2 block text-sm text-gray-900 dark:text-gray-300"}," Remember me ",-1))]),e[9]||(e[9]=s("div",{class:"text-sm"},[s("a",{href:"#",class:"font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400"}," Forgot your password? ")],-1))]),s("div",null,[s("button",{type:"submit",disabled:t.isLoading,class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[t.isLoading?(i(),a("span",es,"Signing in...")):(i(),a("span",ts,"Sign in"))],8,Qt)])],32)])])}const rs=N(zt,[["render",ss]]),os=V({name:"DashboardPage",components:{AppHeader:Z,AppActions:te,ChatOverlay:Ee},setup(){const t=G(),e=W(),r=ee(),o=oe(),{errorLogger:n,trackAsyncOperation:u}=Y("DashboardPage"),d=k("");B(async()=>{await u("dashboard initialization",async()=>{var x;try{if(n.debug("Dashboard mounted, checking authentication"),!e.isAuthenticated){n.warn("Dashboard accessed without authentication, redirecting to login"),t.replace("/login");return}r.users.length===0&&await r.loadUsers(),n.info(`Dashboard loaded for user: ${(x=e.currentUser)==null?void 0:x.email}`)}catch(b){n.error("Error initializing dashboard",b)}})});const v=z(()=>e.currentUser),l=z(()=>{if(!d.value)return r.users.filter(b=>{var C;return b.id!==((C=v.value)==null?void 0:C.id)});const x=d.value.toLowerCase();return r.users.filter(b=>{var C;return b.id!==((C=v.value)==null?void 0:C.id)&&(b.name&&b.name.toLowerCase().includes(x)||b.email&&b.email.toLowerCase().includes(x)||b.skills&&b.skills.some(F=>F.toLowerCase().includes(x))||b.interests&&b.interests.some(F=>F.toLowerCase().includes(x)))})}),c=x=>{n.debug(`Viewing profile for user ID: ${x}`),alert(`Viewing profile for user ID: ${x}`)},g=()=>{n.debug("Editing user profile"),alert("Edit profile functionality would open here")},y=z(()=>{if(!e.currentUser||r.users.length===0)return[];const x=e.currentUser;return r.users.filter(b=>b.id!==x.id).map(b=>{const C=x.interests&&b.interests?x.interests.filter(O=>b.interests.includes(O)):[],F=x.skills&&b.skills?b.skills.filter(O=>!x.skills.includes(O)):[];let T=0;T+=C.length*10,T+=F.length*5,b.bio&&(T+=5);const w=Math.min(Math.round(T),100);return{...b,matchScore:w,sharedInterests:C,complementarySkills:F}}).sort((b,C)=>C.matchScore-b.matchScore).slice(0,3)}),p=x=>{n.debug(`Connecting with user ID: ${x}`),o.toggleChat()},m=[{id:"p1",name:"Sustainability Initiative",description:"Working on sustainable solutions for urban environments",owner:"Max Mustermann",year:"2023",requiredSkills:["JavaScript","React","Sustainability","UI/UX Design"],relatedInterests:["Sustainability","Urban Planning","Technology","Environment"]},{id:"p2",name:"Tech Mentoring Program",description:"Connecting experienced developers with juniors for mentoring",owner:"Jane Doe",year:"2023",requiredSkills:["JavaScript","Vue.js","Mentoring","Communication"],relatedInterests:["Mentoring","Education","Technology","Community"]}],$=z(()=>{if(!e.currentUser||m.length===0)return[];const x=e.currentUser;return m.map(b=>{const C=x.skills&&b.requiredSkills?b.requiredSkills.filter(O=>x.skills.includes(O)):[],F=x.interests&&b.relatedInterests?b.relatedInterests.filter(O=>x.interests.includes(O)):[];let T=0;T+=C.length*10,T+=F.length*5;const w=Math.min(Math.round(T),100);return{...b,matchScore:w,matchingSkills:C,relatedInterests:F}}).sort((b,C)=>C.matchScore-b.matchScore).slice(0,3)});return{currentUser:v,userStore:r,uiStore:o,searchTerm:d,filteredUsers:l,viewUserProfile:c,editProfile:g,bestMatches:y,connectWithUser:p,bestProjectMatches:$,userHasSkill:x=>{var b,C;return((C=(b=v.value)==null?void 0:b.skills)==null?void 0:C.includes(x))||!1},viewProject:x=>{n.debug(`Viewing project ID: ${x}`),alert(`Viewing project ID: ${x}`)}}}}),ns={class:"dashboard-page"},is={class:"container mx-auto py-6 px-4"},as={class:"mb-6 flex justify-between items-center"},ls={key:0,class:"text-gray-600"},ds={class:"font-medium"},cs={key:0,class:"ml-2 px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full"},us={key:0},gs={class:"mb-6 bg-white p-6 rounded-lg shadow-md"},ms={key:0,class:"grid grid-cols-1 md:grid-cols-3 gap-4"},hs={class:"flex justify-between items-start mb-3"},ps={class:"font-medium"},fs={class:"text-sm text-gray-500"},bs={class:"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full"},vs={class:"mb-3"},ys={class:"flex flex-wrap gap-1 mb-2"},ws={key:0,class:"text-xs text-gray-500"},xs={class:"flex flex-wrap gap-1"},ks={key:0,class:"text-xs text-gray-500"},$s={class:"flex justify-between"},Ss=["onClick"],Cs=["onClick"],Ms={key:1,class:"text-center py-12 bg-gray-50 rounded-lg"},_s={class:"mb-6 bg-white p-6 rounded-lg shadow-md"},Us={key:0,class:"grid grid-cols-1 md:grid-cols-3 gap-4"},As={class:"flex justify-between items-start mb-2"},Ps={class:"font-medium"},js={class:"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full"},Es={class:"text-sm text-gray-600 mb-3"},Ls={class:"mb-3"},Ds={class:"flex flex-wrap gap-1"},Ts={class:"flex justify-between items-center"},Is={class:"text-xs text-gray-500"},Os=["onClick"],Rs={key:1,class:"text-center py-12 bg-gray-50 rounded-lg"},Fs={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Vs={class:"bg-white p-6 rounded-lg shadow-md"},Hs={class:"mb-4"},Ns={key:0,class:"space-y-2 max-h-96 overflow-y-auto"},zs={class:"font-medium"},Bs={class:"text-gray-500 text-sm"},qs={key:0,class:"mt-1"},Js={key:0,class:"text-xs text-gray-500"},Gs=["onClick"],Ws={key:1,class:"text-center py-4"},Ys={key:2,class:"text-center py-4"},Ks={class:"bg-white p-6 rounded-lg shadow-md"},Xs={key:0,class:"mb-6"},Zs={class:"space-y-2"},Qs={class:"font-medium"},er={class:"text-sm text-gray-600"},tr={class:"mt-6 bg-white p-6 rounded-lg shadow-md"},sr={key:0,class:"flex flex-col md:flex-row gap-6"},rr={class:"md:w-1/3"},or={class:"md:w-1/3"},nr={class:"mb-2"},ir={key:0},ar={key:1,class:"text-sm text-gray-500"},lr={key:0},dr={key:1,class:"text-sm text-gray-500"},cr={class:"md:w-1/3 flex justify-end items-start"},ur={key:1,class:"text-center py-4"};function gr(t,e,r,o,n,u){const d=P("AppHeader"),v=P("router-link"),l=P("AppActions"),c=P("ChatOverlay");return i(),a("div",ns,[L(d),s("main",is,[s("div",as,[s("div",null,[e[5]||(e[5]=s("h1",{class:"text-2xl font-bold"}," Dashboard ",-1)),t.currentUser?(i(),a("p",ls,[e[4]||(e[4]=X(" Welcome back, ")),s("span",ds,h(t.currentUser.email),1),t.currentUser.role==="admin"?(i(),a("span",cs,"Admin")):M("",!0)])):M("",!0)]),t.currentUser&&t.currentUser.role==="admin"?(i(),a("div",us,[L(v,{to:"/admin",class:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-md text-sm inline-flex items-center"},{default:ge(()=>e[6]||(e[6]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),X(" Admin Panel ")])),_:1})])):M("",!0)]),s("div",gs,[e[10]||(e[10]=s("h2",{class:"text-xl font-semibold mb-3"}," Your Best Matches ",-1)),e[11]||(e[11]=s("p",{class:"text-gray-600 mb-4"}," People who might be perfect collaborators for you ",-1)),t.bestMatches.length>0?(i(),a("div",ms,[(i(!0),a(U,null,A(t.bestMatches,g=>(i(),a("div",{key:g.id,class:"border border-gray-200 rounded-lg p-4 hover:border-green-300 transition-colors"},[s("div",hs,[s("div",null,[s("h3",ps,h(g.name),1),s("p",fs,h(g.email),1)]),s("span",bs,h(g.matchScore)+"% Match ",1)]),s("div",vs,[e[7]||(e[7]=s("h4",{class:"text-xs text-gray-500 uppercase tracking-wide mb-1"}," In common ",-1)),s("div",ys,[(i(!0),a(U,null,A(g.sharedInterests.slice(0,2),(y,p)=>(i(),a("span",{key:p,class:"inline-block bg-green-100 text-green-800 text-xs px-2 py-1 rounded"},h(y),1))),128)),g.sharedInterests.length>2?(i(),a("span",ws," +"+h(g.sharedInterests.length-2)+" more ",1)):M("",!0)]),e[8]||(e[8]=s("h4",{class:"text-xs text-gray-500 uppercase tracking-wide mb-1"}," Complementary Skills ",-1)),s("div",xs,[(i(!0),a(U,null,A(g.complementarySkills.slice(0,2),(y,p)=>(i(),a("span",{key:p,class:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded"},h(y),1))),128)),g.complementarySkills.length>2?(i(),a("span",ks," +"+h(g.complementarySkills.length-2)+" more ",1)):M("",!0)])]),s("div",$s,[s("button",{class:"text-blue-600 hover:text-blue-800 text-sm",onClick:y=>t.viewUserProfile(g.id)}," View Profile ",8,Ss),s("button",{class:"bg-green-600 hover:bg-green-700 text-white text-sm px-3 py-1 rounded",onClick:y=>t.connectWithUser(g.id)}," Connect ",8,Cs)])]))),128))])):(i(),a("div",Ms,[e[9]||(e[9]=s("p",{class:"text-gray-500"}," No matches found. Complete your profile to find better matches! ",-1)),s("button",{class:"mt-3 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm",onClick:e[0]||(e[0]=(...g)=>t.editProfile&&t.editProfile(...g))}," Complete Your Profile ")]))]),s("div",_s,[e[14]||(e[14]=s("h2",{class:"text-xl font-semibold mb-3"}," Projects For You ",-1)),e[15]||(e[15]=s("p",{class:"text-gray-600 mb-4"}," Projects that match your skills and interests ",-1)),t.bestProjectMatches.length>0?(i(),a("div",Us,[(i(!0),a(U,null,A(t.bestProjectMatches,g=>(i(),a("div",{key:g.id,class:"border border-gray-200 rounded-lg p-4 hover:border-green-300 transition-colors"},[s("div",As,[s("h3",Ps,h(g.name),1),s("span",js,h(g.matchScore)+"% Match ",1)]),s("p",Es,h(g.description),1),s("div",Ls,[e[12]||(e[12]=s("h4",{class:"text-xs text-gray-500 uppercase tracking-wide mb-1"}," Required Skills ",-1)),s("div",Ds,[(i(!0),a(U,null,A(g.requiredSkills,(y,p)=>(i(),a("span",{key:p,class:D(["inline-block text-xs px-2 py-1 rounded",t.userHasSkill(y)?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"])},h(y),3))),128))])]),s("div",Ts,[s("span",Is,h(g.owner)+" · "+h(g.year),1),s("button",{class:"bg-green-600 hover:bg-green-700 text-white text-sm px-3 py-1 rounded",onClick:y=>t.viewProject(g.id)}," View Details ",8,Os)])]))),128))])):(i(),a("div",Rs,[e[13]||(e[13]=s("p",{class:"text-gray-500"}," No matching projects found. Add more skills to your profile to find suitable projects! ",-1)),s("button",{class:"mt-3 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm",onClick:e[1]||(e[1]=(...g)=>t.editProfile&&t.editProfile(...g))}," Update Skills ")]))]),s("div",Fs,[s("div",Vs,[e[16]||(e[16]=s("h2",{class:"text-xl font-semibold mb-3"}," User Profiles ",-1)),e[17]||(e[17]=s("p",{class:"mb-4"}," Browse and match with other users ",-1)),s("div",Hs,[J(s("input",{"onUpdate:modelValue":e[2]||(e[2]=g=>t.searchTerm=g),type:"text",placeholder:"Search users...",class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,512),[[Q,t.searchTerm]])]),t.filteredUsers.length>0?(i(),a("div",Ns,[(i(!0),a(U,null,A(t.filteredUsers,g=>(i(),a("div",{key:g.id,class:"border border-gray-200 p-3 rounded flex justify-between items-center hover:bg-gray-50"},[s("div",null,[s("span",zs,h(g.name),1),s("p",Bs,h(g.email),1),g.skills&&g.skills.length?(i(),a("div",qs,[(i(!0),a(U,null,A(g.skills.slice(0,3),y=>(i(),a("span",{key:y,class:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded mr-1 mb-1"},h(y),1))),128)),g.skills.length>3?(i(),a("span",Js," +"+h(g.skills.length-3)+" more ",1)):M("",!0)])):M("",!0)]),s("div",null,[s("button",{class:"text-blue-600 hover:text-blue-800",onClick:y=>t.viewUserProfile(g.id)}," View Profile ",8,Gs)])]))),128))])):t.userStore.isLoading?(i(),a("p",Ws," Loading users... ")):(i(),a("p",Ys," No users found matching your search "))]),s("div",Ks,[e[19]||(e[19]=s("h2",{class:"text-xl font-semibold mb-3"}," Projects ",-1)),e[20]||(e[20]=s("p",{class:"mb-4"}," Explore projects and find collaboration opportunities ",-1)),t.currentUser&&t.currentUser.projects&&t.currentUser.projects.length>0?(i(),a("div",Xs,[e[18]||(e[18]=s("h3",{class:"font-medium text-gray-700 mb-2"}," Your Projects ",-1)),s("div",Zs,[(i(!0),a(U,null,A(t.currentUser.projects,g=>(i(),a("div",{key:g.name,class:"border border-gray-200 p-3 rounded"},[s("div",Qs,h(g.name),1),s("p",er,h(g.description),1)]))),128))])])):M("",!0),e[21]||(e[21]=re('<div><h3 class="font-medium text-gray-700 mb-2"> Recommended Projects </h3><p class="text-sm text-gray-500 italic mb-2"> Based on your skills and interests </p><div class="space-y-2"><div class="border border-gray-200 p-3 rounded bg-blue-50"><div class="font-medium"> Sustainability Initiative </div><p class="text-sm text-gray-600"> Looking for developers with interest in sustainable solutions </p><div class="mt-2 flex justify-end"><button class="text-blue-600 hover:text-blue-800 text-sm"> Learn More </button></div></div><div class="border border-gray-200 p-3 rounded"><div class="font-medium"> Tech Mentoring Program </div><p class="text-sm text-gray-600"> Connect with junior developers as a mentor </p><div class="mt-2 flex justify-end"><button class="text-blue-600 hover:text-blue-800 text-sm"> Learn More </button></div></div></div></div>',1))])]),s("div",tr,[e[29]||(e[29]=s("h2",{class:"text-xl font-semibold mb-3"}," My Profile ",-1)),e[30]||(e[30]=s("p",{class:"mb-4"}," Update your information to improve matching ",-1)),t.currentUser?(i(),a("div",sr,[s("div",rr,[e[25]||(e[25]=s("h3",{class:"font-medium mb-2"}," Personal Information ",-1)),s("p",null,[e[22]||(e[22]=s("strong",null,"Name:",-1)),X(" "+h(t.currentUser.name||"Not provided"),1)]),s("p",null,[e[23]||(e[23]=s("strong",null,"Email:",-1)),X(" "+h(t.currentUser.email),1)]),s("p",null,[e[24]||(e[24]=s("strong",null,"Bio:",-1)),X(" "+h(t.currentUser.bio||"No bio provided"),1)])]),s("div",or,[e[28]||(e[28]=s("h3",{class:"font-medium mb-2"}," Skills & Interests ",-1)),s("div",nr,[e[26]||(e[26]=s("p",{class:"text-sm font-medium mb-1"}," Skills: ",-1)),t.currentUser.skills&&t.currentUser.skills.length?(i(),a("div",ir,[(i(!0),a(U,null,A(t.currentUser.skills,g=>(i(),a("span",{key:g,class:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded mr-1 mb-1"},h(g),1))),128))])):(i(),a("p",ar," No skills listed "))]),s("div",null,[e[27]||(e[27]=s("p",{class:"text-sm font-medium mb-1"}," Interests: ",-1)),t.currentUser.interests&&t.currentUser.interests.length?(i(),a("div",lr,[(i(!0),a(U,null,A(t.currentUser.interests,g=>(i(),a("span",{key:g,class:"inline-block bg-green-100 text-green-800 text-xs px-2 py-1 rounded mr-1 mb-1"},h(g),1))),128))])):(i(),a("p",dr," No interests listed "))])]),s("div",cr,[s("button",{class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm",onClick:e[3]||(e[3]=(...g)=>t.editProfile&&t.editProfile(...g))}," Edit Profile ")])])):(i(),a("div",ur," Loading profile information... "))])]),L(l),t.uiStore.isChatOpen?(i(),ae(c,{key:0})):M("",!0)])}const mr=N(os,[["render",gr]]),hr=V({name:"AdminboardPage",components:{AppHeader:Z,AppActions:te},setup(){const t=G(),e=W(),r=ee();oe();const{errorLogger:o,trackAsyncOperation:n}=Y("AdminboardPage"),u=k(""),d=k(!0);B(async()=>{await n("admin dashboard initialization",async()=>{var x,b,C;try{if(o.debug("Admin dashboard mounted, checking authentication and privileges"),!e.isAuthenticated){o.warn("Admin dashboard accessed without authentication, redirecting to login"),t.replace("/login");return}if(((x=e.currentUser)==null?void 0:x.role)!=="admin"){o.warn(`Unauthorized access attempt to admin page by user with role: ${(b=e.currentUser)==null?void 0:b.role}`),t.replace("/");return}r.users.length===0&&await r.loadUsers(),o.info(`Admin dashboard loaded for admin: ${(C=e.currentUser)==null?void 0:C.email}`)}catch(F){o.error("Error initializing admin dashboard",F)}})});const v=z(()=>e.currentUser),l=z(()=>{if(!u.value)return r.users;const x=u.value.toLowerCase();return r.users.filter(b=>b.name&&b.name.toLowerCase().includes(x)||b.email&&b.email.toLowerCase().includes(x)||b.role&&b.role.toLowerCase().includes(x))});return{currentUser:v,userStore:r,userSearchTerm:u,filteredAdminUsers:l,debugModeEnabled:d,editUser:x=>{o.debug(`Editing user with ID: ${x}`);const b=r.users.find(C=>C.id===x);b?alert(`Edit user: ${b.name} (${b.email})`):o.error(`User with ID ${x} not found`)},deleteUser:x=>{o.debug(`Attempting to delete user with ID: ${x}`);const b=r.users.find(C=>C.id===x);b?confirm(`Are you sure you want to delete user ${b.name} (${b.email})?`)&&(o.info(`User deleted: ${b.email}`),alert(`User ${b.name} has been deleted`)):o.error(`User with ID ${x} not found`)},createNewUser:()=>{o.debug("Creating new user"),alert("Create new user form would open here")},toggleDebugMode:()=>{o.debug(`Debug mode toggled to: ${d.value}`),d.value?o.debug("Enabling error console"):o.debug("Disabling error console")},importData:x=>{const b=x.target.files[0];if(b){o.debug(`Importing data from file: ${b.name}`);const C=new FileReader;C.onload=F=>{var T;try{const w=JSON.parse(((T=F.target)==null?void 0:T.result)||"{}")}catch(w){o.error("Failed to parse JSON file",w),alert("Invalid JSON file format")}},C.readAsText(b)}},exportData:()=>{o.debug("Exporting system data");try{const x={users:r.users,timestamp:new Date().toISOString(),version:"1.0"},b=JSON.stringify(x,null,2),C=new Blob([b],{type:"application/json"}),F=URL.createObjectURL(C),T=document.createElement("a");T.href=F,T.download=`dreammall-export-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(T),T.click(),document.body.removeChild(T),o.info("System data exported successfully")}catch(x){o.error("Failed to export data",x),alert("Failed to export data")}},viewSystemLogs:()=>{o.debug("Viewing system logs"),alert("System logs would be displayed here")},getTotalProjects:()=>{let x=0;return r.users.forEach(b=>{b.ownProjects&&Array.isArray(b.ownProjects)&&(x+=b.ownProjects.length),b.contributedProjects&&Array.isArray(b.contributedProjects)&&(x+=b.contributedProjects.length),b.iconCategories&&b.iconCategories.projekt&&Array.isArray(b.iconCategories.projekt)&&(x+=b.iconCategories.projekt.length)}),x}}}}),pr={class:"admin-page"},fr={class:"container mx-auto py-6 px-4"},br={class:"flex justify-between items-center mb-6"},vr={key:0,class:"text-gray-600"},yr={class:"font-medium"},wr={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},xr={class:"bg-white p-6 rounded-lg shadow-md"},kr={class:"mb-4"},$r={key:0,class:"space-y-2 max-h-96 overflow-y-auto"},Sr={class:"font-medium"},Cr={class:"text-gray-500 text-sm"},Mr={class:"flex items-center mt-1"},_r={class:"flex space-x-2"},Ur=["onClick"],Ar=["onClick"],Pr={key:1,class:"text-center py-4"},jr={key:2,class:"text-center py-4"},Er={class:"mt-4 flex justify-end"},Lr={class:"bg-white p-6 rounded-lg shadow-md"},Dr={class:"space-y-4"},Tr={class:"flex items-center"},Ir={class:"flex space-x-2"},Or={class:"block w-full"},Rr={class:"mt-6 bg-white p-6 rounded-lg shadow-md"},Fr={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Vr={class:"border border-gray-200 rounded-lg p-4 bg-blue-50"},Hr={class:"text-3xl font-bold"},Nr={class:"border border-gray-200 rounded-lg p-4 bg-green-50"},zr={class:"text-3xl font-bold"};function Br(t,e,r,o,n,u){const d=P("AppHeader"),v=P("router-link"),l=P("AppActions");return i(),a("div",pr,[L(d),s("main",fr,[s("div",br,[s("div",null,[e[9]||(e[9]=s("h1",{class:"text-2xl font-bold"}," Admin Dashboard ",-1)),t.currentUser?(i(),a("p",vr,[e[7]||(e[7]=X(" Logged in as ")),s("span",yr,h(t.currentUser.email),1),e[8]||(e[8]=s("span",{class:"ml-2 px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full"},"Admin",-1))])):M("",!0)]),L(v,{to:"/",class:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-md text-sm inline-flex items-center"},{default:ge(()=>e[10]||(e[10]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1),X(" Back to Dashboard ")])),_:1})]),s("div",wr,[s("div",xr,[e[11]||(e[11]=s("h2",{class:"text-xl font-semibold mb-3"}," User Management ",-1)),e[12]||(e[12]=s("p",{class:"mb-4"}," Administer user accounts and permissions ",-1)),s("div",kr,[J(s("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>t.userSearchTerm=c),type:"text",placeholder:"Search users by name, email or role...",class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,512),[[Q,t.userSearchTerm]])]),t.filteredAdminUsers.length>0?(i(),a("div",$r,[(i(!0),a(U,null,A(t.filteredAdminUsers,c=>(i(),a("div",{key:c.id,class:"border border-gray-200 p-3 rounded flex justify-between items-center hover:bg-gray-50"},[s("div",null,[s("span",Sr,h(c.name),1),s("p",Cr,h(c.email),1),s("div",Mr,[s("span",{class:D([{"bg-red-100 text-red-800":c.role==="admin","bg-blue-100 text-blue-800":c.role==="user"},"inline-block text-xs px-2 py-1 rounded mr-2"])},h(c.role),3)])]),s("div",_r,[s("button",{class:"text-blue-600 hover:text-blue-800",onClick:g=>t.editUser(c.id)}," Edit ",8,Ur),s("button",{class:"text-red-600 hover:text-red-800",onClick:g=>t.deleteUser(c.id)}," Delete ",8,Ar)])]))),128))])):t.userStore.isLoading?(i(),a("p",Pr," Loading users... ")):(i(),a("p",jr," No users found matching your search ")),s("div",Er,[s("button",{class:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md text-sm",onClick:e[1]||(e[1]=(...c)=>t.createNewUser&&t.createNewUser(...c))}," Add New User ")])]),s("div",Lr,[e[21]||(e[21]=s("h2",{class:"text-xl font-semibold mb-3"}," System Settings ",-1)),e[22]||(e[22]=s("p",{class:"mb-4"}," Configure application parameters and settings ",-1)),s("div",Dr,[s("div",null,[e[14]||(e[14]=s("h3",{class:"text-lg font-medium mb-2"}," Debug Mode ",-1)),e[15]||(e[15]=s("p",{class:"text-sm text-gray-600 mb-2"}," Enable or disable application debugging features ",-1)),s("div",Tr,[J(s("input",{id:"debug-mode","onUpdate:modelValue":e[2]||(e[2]=c=>t.debugModeEnabled=c),type:"checkbox",class:"mr-2 h-5 w-5 text-blue-600",onChange:e[3]||(e[3]=(...c)=>t.toggleDebugMode&&t.toggleDebugMode(...c))},null,544),[[Pe,t.debugModeEnabled]]),e[13]||(e[13]=s("label",{for:"debug-mode"},"Enable Debug Mode",-1))])]),s("div",null,[e[17]||(e[17]=s("h3",{class:"text-lg font-medium mb-2"}," Data Management ",-1)),e[18]||(e[18]=s("p",{class:"text-sm text-gray-600 mb-2"}," Import or export application data ",-1)),s("div",Ir,[s("label",Or,[e[16]||(e[16]=s("span",{class:"sr-only"},"Choose file",-1)),s("input",{type:"file",accept:".json",class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",onChange:e[4]||(e[4]=(...c)=>t.importData&&t.importData(...c))},null,32)]),s("button",{class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm",onClick:e[5]||(e[5]=(...c)=>t.exportData&&t.exportData(...c))}," Export ")])]),s("div",null,[e[19]||(e[19]=s("h3",{class:"text-lg font-medium mb-2"}," System Logs ",-1)),e[20]||(e[20]=s("p",{class:"text-sm text-gray-600 mb-2"}," View and manage system logs ",-1)),s("button",{class:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-md text-sm",onClick:e[6]||(e[6]=(...c)=>t.viewSystemLogs&&t.viewSystemLogs(...c))}," View Logs ")])])])]),s("div",Rr,[e[28]||(e[28]=s("h2",{class:"text-xl font-semibold mb-3"}," System Statistics ",-1)),e[29]||(e[29]=s("p",{class:"mb-4"}," Overview of system usage and performance metrics ",-1)),s("div",Fr,[s("div",Vr,[e[23]||(e[23]=s("h3",{class:"text-lg font-medium mb-1"}," Total Users ",-1)),s("p",Hr,h(t.userStore.users.length),1),e[24]||(e[24]=s("p",{class:"text-sm text-gray-600"}," Active accounts in the system ",-1))]),s("div",Nr,[e[25]||(e[25]=s("h3",{class:"text-lg font-medium mb-1"}," Active Projects ",-1)),s("p",zr,h(t.getTotalProjects()),1),e[26]||(e[26]=s("p",{class:"text-sm text-gray-600"}," Projects currently in progress ",-1))]),e[27]||(e[27]=s("div",{class:"border border-gray-200 rounded-lg p-4 bg-purple-50"},[s("h3",{class:"text-lg font-medium mb-1"}," System Status "),s("p",{class:"text-xl font-bold text-green-600"}," Online "),s("p",{class:"text-sm text-gray-600"}," All services operational ")],-1))])])]),L(l)])}const qr=N(hr,[["render",Br]]),Jr=V({name:"NotFoundPage",setup(){const t=G(),e=W(),{errorLogger:r}=Y("NotFoundPage");return r.warn("404 page accessed",{path:window.location.pathname,referrer:document.referrer}),{goToHome:()=>{e.isAuthenticated?t.push("/"):t.push("/login")},goBack:()=>{t.go(-1)}}}}),Gr={class:"not-found"},Wr={class:"container"},Yr={class:"actions"};function Kr(t,e,r,o,n,u){return i(),a("div",Gr,[s("div",Wr,[e[2]||(e[2]=s("h1",{class:"error-code"}," 404 ",-1)),e[3]||(e[3]=s("h2",{class:"error-title"}," Page Not Found ",-1)),e[4]||(e[4]=s("p",{class:"error-message"}," Sorry, the page you are looking for doesn't exist or has been moved. ",-1)),s("div",Yr,[s("button",{class:"action-button primary",onClick:e[0]||(e[0]=(...d)=>t.goToHome&&t.goToHome(...d))}," Go to Dashboard "),s("button",{class:"action-button secondary",onClick:e[1]||(e[1]=(...d)=>t.goBack&&t.goBack(...d))}," Go Back ")])])])}const Xr=N(Jr,[["render",Kr],["__scopeId","data-v-b42baa6b"]]),Zr=V({name:"MatchingResults",props:{matches:{type:Array,required:!0},showEmpty:{type:Boolean,default:!0}},emits:["view-profile"]}),Qr={class:"matching-results"},eo={class:"text-xl font-semibold mb-4"},to={key:0,class:"match-cards-container"},so={class:"match-score"},ro={class:"percent"},oo={class:"match-info"},no={class:"user-name"},io={key:0,class:"skills-section"},ao={class:"tags"},lo={key:0,class:"more-tags"},co={key:1,class:"interests-section"},uo={class:"tags"},go={key:0,class:"more-tags"},mo={class:"match-details"},ho={key:0,class:"detail-item"},po={class:"detail-value"},fo={key:1,class:"detail-item"},bo={class:"detail-value"},vo={class:"detail-label"},yo={class:"detail-value"},wo={class:"match-actions"},xo=["onClick"],ko={key:1,class:"no-matches"};function $o(t,e,r,o,n,u){return i(),a("div",Qr,[s("h2",eo,h(t.matches.length>0?"Matching Results":""),1),t.matches.length>0?(i(),a("div",to,[(i(!0),a(U,null,A(t.matches,d=>(i(),a("div",{key:d.id,class:"match-card"},[s("div",so,[s("div",ro,h(d.matchResult.percentage)+"% ",1),e[0]||(e[0]=s("div",{class:"label"}," Match ",-1))]),s("div",oo,[s("h3",no,h(d.name||"Unnamed User"),1),d.skills&&d.skills.length?(i(),a("div",io,[e[1]||(e[1]=s("h4",null,"Skills",-1)),s("div",ao,[(i(!0),a(U,null,A(d.skills.slice(0,3),(v,l)=>(i(),a("span",{key:l,class:"tag skill-tag"},h(v),1))),128)),d.skills.length>3?(i(),a("span",lo,"+"+h(d.skills.length-3),1)):M("",!0)])])):M("",!0),d.interests&&d.interests.length?(i(),a("div",co,[e[2]||(e[2]=s("h4",null,"Interests",-1)),s("div",uo,[(i(!0),a(U,null,A(d.interests.slice(0,3),(v,l)=>(i(),a("span",{key:l,class:"tag interest-tag"},h(v),1))),128)),d.interests.length>3?(i(),a("span",go,"+"+h(d.interests.length-3),1)):M("",!0)])])):M("",!0),s("div",mo,[d.matchResult.matchDetails.sharedInterests.length?(i(),a("div",ho,[e[3]||(e[3]=s("span",{class:"detail-label"},"Shared Interests:",-1)),s("span",po,h(d.matchResult.matchDetails.sharedInterests.length),1)])):M("",!0),d.matchResult.matchDetails.complementarySkills.length?(i(),a("div",fo,[e[4]||(e[4]=s("span",{class:"detail-label"},"Complementary Skills:",-1)),s("span",bo,h(d.matchResult.matchDetails.complementarySkills.length),1)])):M("",!0),(i(!0),a(U,null,A(d.matchResult.matchDetails.matchingAttributes,(v,l)=>(i(),a("div",{key:l,class:"detail-item"},[s("span",vo,h(v.category)+":",1),s("span",yo,h(v.similarity),1)]))),128))])]),s("div",wo,[s("button",{class:"profile-btn",onClick:v=>t.$emit("view-profile",d)}," View Profile ",8,xo)])]))),128))])):t.showEmpty?(i(),a("div",ko," No matches found. Try adjusting your matching criteria or selecting a different user. ")):M("",!0)])}const So=N(Zr,[["render",$o],["__scopeId","data-v-fd3ff8b2"]]),Co=V({name:"MatchingView",components:{AppHeader:Z,AppActions:te,MatchingResults:So},setup(){const t=G(),e=ee(),r=W(),{errorLogger:o,trackAsyncOperation:n}=Y("MatchingView"),u=k([]),d=k(""),v=k([]),l=k("users"),c=k(["skills","interests"]),g=k("current"),y=k([]),p=[{label:"Skills Match",value:"skills"},{label:"Interests Match",value:"interests"},{label:"Location",value:"location"},{label:"Projects",value:"projects"},{label:"Available for Collaboration",value:"available"}],m=[{label:"Skills Match",value:"skills"},{label:"Interests Match",value:"interests"},{label:"Location Based",value:"location"},{label:"Recently Added",value:"recent"}],$=[{id:"p1",name:"Sustainability Initiative",description:"Working on sustainable solutions for urban environments",owner:"Max Mustermann",year:"2023",requiredSkills:["JavaScript","React","Sustainability","UI/UX Design"],relatedInterests:["Sustainability","Urban Planning","Technology","Environment"]},{id:"p2",name:"Tech Mentoring Program",description:"Connecting experienced professionals with newcomers",owner:"Julia Meier",year:"2023",requiredSkills:["Communication","Leadership","JavaScript","Python"],relatedInterests:["Education","Mentoring","Technology","Community Building"]},{id:"p3",name:"Smart City Platform",description:"IoT-based platform for improving city services",owner:"Markus Weber",year:"2022",requiredSkills:["IoT","Python","Data Analysis","Cloud Computing"],relatedInterests:["Smart Cities","IoT","Urban Planning","Data Science"]},{id:"p4",name:"Community Garden App",description:"Mobile application to manage and connect urban gardeners",owner:"Emma Schmidt",year:"2023",requiredSkills:["Mobile Development","React Native","UI Design","Backend Development"],relatedInterests:["Urban Gardening","Sustainability","Community Building","Food Production"]},{id:"p5",name:"Digital Learning Platform",description:"Platform for sharing educational resources and courses",owner:"Thomas Müller",year:"2022",requiredSkills:["Vue.js","Node.js","MongoDB","Education Technology"],relatedInterests:["Education","Online Learning","Knowledge Sharing","Technology"]}];B(async()=>{await n("initialize matching view",async()=>{var S;try{if(!r.isAuthenticated){t.replace("/login");return}e.users.length===0&&await e.loadUsers(),o.info(`Matching view loaded for user: ${(S=r.currentUser)==null?void 0:S.email}`)}catch(E){o.error("Error initializing matching view",E)}})});const j=S=>{u.value.includes(S)?u.value=u.value.filter(E=>E!==S):u.value.push(S),o.debug(`Filters updated: ${u.value.join(", ")}`)},R=z(()=>e.users.filter(S=>{var E;return S.id!==((E=r.currentUser)==null?void 0:E.id)})),x=(S,E)=>{var le,pe,ne,de;const _={sharedInterests:[],complementarySkills:[],matchingAttributes:[]};let H=0;if(S.interests&&E.interests){const ie=S.interests.filter(K=>E.interests.includes(K));_.sharedInterests=ie,H+=ie.length*10}if(S.skills&&E.skills){const ie=E.skills.filter(K=>!S.skills.includes(K));_.complementarySkills=ie,H+=ie.length*5}return(pe=(le=S.iconCategories)==null?void 0:le.home)!=null&&pe.coordinates&&((de=(ne=E.iconCategories)==null?void 0:ne.home)!=null&&de.coordinates)&&(_.matchingAttributes.push({category:"Location",similarity:"Similar region"}),H+=10),{percentage:Math.min(Math.round(H/100*100),100),matchDetails:_}},b=S=>{d.value=S,C()},C=()=>{o.debug(`Generating matches for user ID: ${d.value}`),v.value=[];try{let S;if(!d.value||d.value==="current"?S=r.currentUser:S=e.users.find(_=>_.id==d.value),!S){o.warn("No source user selected for matching");return}const E=e.users.filter(_=>_.id!==S.id).map(_=>{const H=x(S,_);return{..._,matchResult:H}}).filter(_=>_.matchResult.percentage>0).sort((_,H)=>H.matchResult.percentage-_.matchResult.percentage);v.value=E,o.info(`Generated ${v.value.length} matches`)}catch(S){o.error("Error generating matches",S)}},F=S=>{c.value.includes(S)?c.value=c.value.filter(E=>E!==S):c.value.push(S),o.debug(`Project filters updated: ${c.value.join(", ")}`)},T=(S,E)=>{if(!S||!E)return{percentage:0,matchingSkills:[]};let _=0;const H={},$e=S.skills||[],he=E.requiredSkills||[],le=$e.filter(K=>he.some(ye=>ye.toLowerCase().includes(K.toLowerCase())));if(H.matchingSkills=le,he.length>0){const K=le.length/he.length*50;_+=K}const pe=S.interests||[],ne=E.relatedInterests||[],de=pe.filter(K=>ne.some(ye=>ye.toLowerCase().includes(K.toLowerCase())));if(H.matchingInterests=de,ne.length>0){const K=de.length/ne.length*30;_+=K}return E.year==="2023"&&(_+=10,H.isRecent=!0),{percentage:Math.min(Math.round(_),100),matchingDetails:H}};return{filterOptions:p,activeFilters:u,selectedUserId:d,matchedUsers:R,matches:v,toggleFilter:j,generateMatches:C,generateMatchesFor:b,viewProfile:S=>{o.debug(`Viewing profile for user: ${S.name||S.email}`),alert(`Profile details for ${S.name||S.email} would open here`)},matchingType:l,projectFilterOptions:m,activeProjectFilters:c,selectedUserForProjects:g,matchingProjects:y,toggleProjectFilter:F,findMatchingProjects:()=>{o.debug(`Finding matching projects for user: ${g.value}`);try{let S;if(g.value==="current"?S=r.currentUser:S=e.users.find(_=>_.id==g.value),!S){o.warn("No user selected for project matching");return}const E=$.map(_=>{const H=T(S,_);return{..._,matchScore:H.percentage,matchDetails:H.matchingDetails}});y.value=E.filter(_=>c.value.includes("skills")&&(!_.matchDetails.matchingSkills||_.matchDetails.matchingSkills.length===0)||c.value.includes("interests")&&(!_.matchDetails.matchingInterests||_.matchDetails.matchingInterests.length===0)||c.value.includes("recent")&&!_.matchDetails.isRecent?!1:_.matchScore>0).sort((_,H)=>H.matchScore-_.matchScore),o.info(`Found ${y.value.length} matching projects`)}catch(S){o.error("Error finding matching projects",S)}},userHasSkill:S=>{const E=r.currentUser;return!E||!E.skills?!1:E.skills.some(_=>_.toLowerCase()===S.toLowerCase())},viewProject:S=>{o.debug(`Viewing project: ${S.name}`),alert(`Details for project "${S.name}" would open here`)},userStore:e}}}),Mo={class:"matching-page"},_o={class:"container mx-auto py-6 px-4"},Uo={class:"mb-6 flex border-b"},Ao={key:0},Po={class:"bg-white p-6 rounded-lg shadow-md mb-6"},jo={class:"mb-4"},Eo={class:"mb-6"},Lo={class:"flex flex-wrap gap-2 mb-4"},Do=["onClick"],To={class:"mb-6"},Io={class:"flex items-center mb-2"},Oo=["value"],Ro={key:0,class:"mt-6"},Fo={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Vo={class:"font-medium"},Ho={class:"text-sm text-gray-500"},No={key:0,class:"mt-2"},zo={class:"flex flex-wrap gap-1"},Bo={key:0,class:"inline-block text-xs text-gray-500"},qo={class:"mt-3"},Jo=["onClick"],Go=["onClick"],Wo={key:1},Yo={class:"bg-white p-6 rounded-lg shadow-md mb-6"},Ko={class:"mb-4"},Xo={class:"mb-6"},Zo={class:"flex flex-wrap gap-2 mb-4"},Qo=["onClick"],en={class:"mb-6"},tn={class:"flex items-center mb-2"},sn=["value"],rn={class:"bg-white p-6 rounded-lg shadow-md"},on={class:"text-xl font-semibold mb-3"},nn={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},an={class:"flex justify-between items-start mb-2"},ln={class:"text-lg font-medium"},dn={class:"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full"},cn={class:"text-gray-600 text-sm mb-3"},un={class:"mb-3"},gn={class:"flex flex-wrap gap-1"},mn={class:"flex justify-between items-center mt-3"},hn={class:"text-sm text-gray-500"},pn=["onClick"],fn={key:1,class:"text-center py-8 text-gray-500"};function bn(t,e,r,o,n,u){const d=P("AppHeader"),v=P("MatchingResults"),l=P("AppActions");return i(),a("div",Mo,[L(d),s("main",_o,[e[22]||(e[22]=s("h1",{class:"text-2xl font-bold mb-6"}," Matching System ",-1)),s("div",Uo,[s("button",{class:D(["py-2 px-4 font-medium text-sm focus:outline-none",t.matchingType==="users"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"]),onClick:e[0]||(e[0]=c=>t.matchingType="users")}," User Matching ",2),s("button",{class:D(["py-2 px-4 font-medium text-sm focus:outline-none",t.matchingType==="projects"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"]),onClick:e[1]||(e[1]=c=>t.matchingType="projects")}," Project Matching ",2)]),t.matchingType==="users"?(i(),a("div",Ao,[s("div",Po,[s("div",jo,[e[11]||(e[11]=s("h2",{class:"text-xl font-semibold mb-3"}," Find Your Match ",-1)),e[12]||(e[12]=s("p",{class:"text-gray-600 mb-4"}," Discover potential partners and collaborators based on shared interests and complementary skills. ",-1)),s("div",Eo,[e[7]||(e[7]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Search Criteria",-1)),s("div",Lo,[(i(!0),a(U,null,A(t.filterOptions,(c,g)=>(i(),a("button",{key:g,class:D(["px-3 py-1 rounded-full text-sm",t.activeFilters.includes(c.value)?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"]),onClick:y=>t.toggleFilter(c.value)},h(c.label),11,Do))),128))])]),s("div",To,[e[10]||(e[10]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Select User to Match Against",-1)),s("div",Io,[J(s("select",{"onUpdate:modelValue":e[2]||(e[2]=c=>t.selectedUserId=c),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",onChange:e[3]||(e[3]=(...c)=>t.generateMatches&&t.generateMatches(...c))},[e[8]||(e[8]=s("option",{value:""}," Select a user ",-1)),e[9]||(e[9]=s("option",{value:"current"}," Use My Profile ",-1)),(i(!0),a(U,null,A(t.userStore.users,c=>(i(),a("option",{key:c.id,value:c.id},h(c.name||c.email),9,Oo))),128))],544),[[fe,t.selectedUserId]]),s("button",{class:"ml-3 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm",onClick:e[4]||(e[4]=(...c)=>t.generateMatches&&t.generateMatches(...c))}," Find Matches ")])])])]),L(v,{matches:t.matches,onViewProfile:t.viewProfile},null,8,["matches","onViewProfile"]),t.matches.length?M("",!0):(i(),a("div",Ro,[e[14]||(e[14]=s("h2",{class:"text-xl font-semibold mb-3"}," All Users ",-1)),s("div",Fo,[(i(!0),a(U,null,A(t.matchedUsers,c=>(i(),a("div",{key:c.id,class:"border border-gray-200 rounded-lg p-4 hover:border-blue-300"},[s("div",Vo,h(c.name),1),s("p",Ho,h(c.email),1),c.skills&&c.skills.length?(i(),a("div",No,[e[13]||(e[13]=s("div",{class:"text-xs font-medium text-gray-500 mb-1"}," Skills ",-1)),s("div",zo,[(i(!0),a(U,null,A(c.skills.slice(0,3),g=>(i(),a("span",{key:g,class:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded"},h(g),1))),128)),c.skills.length>3?(i(),a("span",Bo,"+"+h(c.skills.length-3),1)):M("",!0)])])):M("",!0),s("div",qo,[s("button",{class:"text-sm bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-md mr-2",onClick:g=>t.generateMatchesFor(c.id)}," Match Me ",8,Jo),s("button",{class:"text-sm text-blue-600 hover:text-blue-800",onClick:g=>t.viewProfile(c)}," View Profile ",8,Go)])]))),128))])]))])):(i(),a("div",Wo,[s("div",Yo,[s("div",Ko,[e[18]||(e[18]=s("h2",{class:"text-xl font-semibold mb-3"}," Find Matching Projects ",-1)),e[19]||(e[19]=s("p",{class:"text-gray-600 mb-4"}," Discover projects that match your skills and interests or find projects for specific users. ",-1)),s("div",Xo,[e[15]||(e[15]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Project Matching Criteria",-1)),s("div",Zo,[(i(!0),a(U,null,A(t.projectFilterOptions,(c,g)=>(i(),a("button",{key:g,class:D(["px-3 py-1 rounded-full text-sm",t.activeProjectFilters.includes(c.value)?"bg-green-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"]),onClick:y=>t.toggleProjectFilter(c.value)},h(c.label),11,Qo))),128))])]),s("div",en,[e[17]||(e[17]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Find Projects For:",-1)),s("div",tn,[J(s("select",{"onUpdate:modelValue":e[5]||(e[5]=c=>t.selectedUserForProjects=c),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"},[e[16]||(e[16]=s("option",{value:"current"}," My Profile ",-1)),(i(!0),a(U,null,A(t.userStore.users,c=>(i(),a("option",{key:c.id,value:c.id},h(c.name||c.email),9,sn))),128))],512),[[fe,t.selectedUserForProjects]]),s("button",{class:"ml-3 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md text-sm",onClick:e[6]||(e[6]=(...c)=>t.findMatchingProjects&&t.findMatchingProjects(...c))}," Find Projects ")])])])]),s("div",rn,[s("h2",on,h(t.matchingProjects.length?"Matching Projects":"Available Projects"),1),t.matchingProjects.length>0?(i(),a("div",nn,[(i(!0),a(U,null,A(t.matchingProjects,c=>(i(),a("div",{key:c.id||c.name,class:"border border-gray-200 rounded-lg p-4 hover:border-green-300"},[s("div",an,[s("h3",ln,h(c.name),1),s("span",dn,h(c.matchScore)+"% Match ",1)]),s("p",cn,h(c.description),1),s("div",un,[e[20]||(e[20]=s("div",{class:"text-xs text-gray-500 uppercase tracking-wide mb-1"}," Required Skills ",-1)),s("div",gn,[(i(!0),a(U,null,A(c.requiredSkills,(g,y)=>(i(),a("span",{key:y,class:D(["inline-block text-xs px-2 py-1 rounded",t.userHasSkill(g)?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"])},h(g),3))),128))])]),s("div",mn,[s("span",hn,h(c.owner||"Community Project")+" · "+h(c.year||"Ongoing"),1),s("button",{class:"text-sm bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded-md",onClick:g=>t.viewProject(c)}," View Details ",8,pn)])]))),128))])):(i(),a("div",fn,e[21]||(e[21]=[s("p",null,"No matching projects found. Try adjusting your filter criteria or expanding your skills profile.",-1)])))])]))]),L(l)])}const vn=N(Co,[["render",bn]]),yn=V({name:"ProjectsView",components:{AppHeader:Z,AppActions:te},setup(){const t=G(),e=ee(),r=W(),{errorLogger:o,trackAsyncOperation:n}=Y("ProjectsView"),u=k("");B(async()=>{await n("initialize projects view",async()=>{var y;try{if(!r.isAuthenticated){t.replace("/login");return}e.users.length===0&&await e.loadUsers(),o.info(`Projects view loaded for user: ${(y=r.currentUser)==null?void 0:y.email}`)}catch(p){o.error("Error initializing projects view",p)}})});const d=z(()=>{const y=r.currentUser;if(!y)return[];let p=[];return y.ownProjects&&Array.isArray(y.ownProjects)&&(p=p.concat(y.ownProjects)),y.iconCategories&&y.iconCategories.projekt&&(p=p.concat(y.iconCategories.projekt)),p}),v=z(()=>{const y=u.value.toLowerCase(),p=[{name:"Sustainability Initiative",description:"Working on sustainable solutions for urban environments",owner:"Max Mustermann",year:"2023"},{name:"Tech Mentoring Program",description:"Connecting experienced professionals with newcomers",owner:"Julia Meier",year:"2023"},{name:"Smart City Platform",description:"IoT-based platform for improving city services",owner:"Markus Weber",year:"2022"}];return y?p.filter(m=>m.name.toLowerCase().includes(y)||m.description.toLowerCase().includes(y)||m.owner.toLowerCase().includes(y)):p});return{searchTerm:u,userProjects:d,discoveredProjects:v,editProject:y=>{o.debug(`Editing project: ${y}`),alert(`Edit interface for project "${y}" would open here`)},viewProject:y=>{o.debug(`Viewing project: ${y}`),alert(`Details for project "${y}" would open here`)},createProject:()=>{o.debug("Creating new project"),alert("New project creation form would open here")}}}}),wn={class:"projects-page"},xn={class:"container mx-auto py-6 px-4"},kn={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},$n={class:"bg-white p-6 rounded-lg shadow-md"},Sn={key:0,class:"space-y-4"},Cn={class:"font-medium"},Mn={class:"text-sm text-gray-600 mb-2"},_n={class:"flex justify-between items-center"},Un={class:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded"},An=["onClick"],Pn={key:1,class:"text-center py-8 text-gray-500"},jn={class:"bg-white p-6 rounded-lg shadow-md"},En={class:"mb-4"},Ln={class:"space-y-4"},Dn={class:"font-medium"},Tn={class:"text-sm text-gray-600 mb-2"},In={class:"flex justify-between items-center"},On={class:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded mr-2"},Rn={class:"text-xs text-gray-500"},Fn=["onClick"];function Vn(t,e,r,o,n,u){const d=P("AppHeader"),v=P("AppActions");return i(),a("div",wn,[L(d),s("main",xn,[e[7]||(e[7]=s("h1",{class:"text-2xl font-bold mb-6"}," Projects ",-1)),s("div",kn,[s("div",$n,[e[3]||(e[3]=s("h2",{class:"text-xl font-semibold mb-3"}," My Projects ",-1)),e[4]||(e[4]=s("p",{class:"mb-4"}," Projects you have created or are contributing to ",-1)),t.userProjects.length>0?(i(),a("div",Sn,[(i(!0),a(U,null,A(t.userProjects,l=>(i(),a("div",{key:l.name,class:"border border-gray-200 p-4 rounded-lg hover:border-blue-300"},[s("h3",Cn,h(l.name),1),s("p",Mn,h(l.description),1),s("div",_n,[s("span",Un,h(l.year),1),s("button",{class:"text-sm text-blue-600 hover:text-blue-800",onClick:c=>t.editProject(l.name)}," Edit Project ",8,An)])]))),128))])):(i(),a("div",Pn,[e[2]||(e[2]=s("p",null,"You haven't created any projects yet",-1)),s("button",{class:"mt-4 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded",onClick:e[0]||(e[0]=(...l)=>t.createProject&&t.createProject(...l))}," Create New Project ")]))]),s("div",jn,[e[5]||(e[5]=s("h2",{class:"text-xl font-semibold mb-3"}," Discover Projects ",-1)),e[6]||(e[6]=s("p",{class:"mb-4"}," Find projects that match your skills and interests ",-1)),s("div",En,[J(s("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>t.searchTerm=l),type:"text",placeholder:"Search projects...",class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,512),[[Q,t.searchTerm]])]),s("div",Ln,[(i(!0),a(U,null,A(t.discoveredProjects,(l,c)=>(i(),a("div",{key:c,class:"border border-gray-200 p-4 rounded-lg hover:border-blue-300"},[s("h3",Dn,h(l.name),1),s("p",Tn,h(l.description),1),s("div",In,[s("div",null,[s("span",On,h(l.owner),1),s("span",Rn,h(l.year),1)]),s("button",{class:"text-sm text-blue-600 hover:text-blue-800",onClick:g=>t.viewProject(l.name)}," View Details ",8,Fn)])]))),128))])])])]),L(v)])}const Hn=N(yn,[["render",Vn]]),Nn=V({name:"TableView",components:{AppHeader:Z,AppActions:te},setup(){const t=G(),e=ee(),r=W(),{errorLogger:o,trackAsyncOperation:n}=Y("TableView"),u=k(""),d=k("name");B(async()=>{await n("initialize table view",async()=>{var y;try{if(!r.isAuthenticated){t.replace("/login");return}e.users.length===0&&await e.loadUsers(),o.info(`Table view loaded for user: ${(y=r.currentUser)==null?void 0:y.email}`)}catch(p){o.error("Error initializing table view",p)}})});const v=z(()=>{var y;return((y=r.currentUser)==null?void 0:y.role)==="admin"}),l=z(()=>{let y=[...e.users];if(u.value){const p=u.value.toLowerCase();y=y.filter(m=>m.name&&m.name.toLowerCase().includes(p)||m.email&&m.email.toLowerCase().includes(p)||m.role&&m.role.toLowerCase().includes(p)||m.skills&&m.skills.some($=>$.toLowerCase().includes(p)))}return y.sort((p,m)=>d.value==="name"?(p.name||"").localeCompare(m.name||""):d.value==="email"?(p.email||"").localeCompare(m.email||""):d.value==="role"?(p.role||"").localeCompare(m.role||""):0),y});return{searchTerm:u,sortBy:d,filteredUsers:l,isAdmin:v,viewUser:y=>{o.debug(`Viewing user: ${y}`),alert(`User details for ID ${y} would open here`)},editUser:y=>{o.debug(`Editing user: ${y}`),alert(`Edit interface for user ID ${y} would open here`)},userStore:e}}}),zn={class:"table-view"},Bn={class:"container mx-auto py-6 px-4"},qn={class:"bg-white p-6 rounded-lg shadow-md"},Jn={class:"flex justify-between items-center mb-4"},Gn={class:"flex space-x-2"},Wn={class:"overflow-x-auto"},Yn={class:"min-w-full divide-y divide-gray-200"},Kn={class:"bg-white divide-y divide-gray-200"},Xn={class:"px-6 py-4 whitespace-nowrap"},Zn={class:"font-medium text-gray-900"},Qn={class:"px-6 py-4 whitespace-nowrap"},ei={class:"text-sm text-gray-500"},ti={class:"px-6 py-4 whitespace-nowrap"},si={class:"px-6 py-4"},ri={key:0,class:"flex flex-wrap gap-1"},oi={key:0,class:"inline-block text-xs text-gray-500"},ni={key:1,class:"text-xs text-gray-500"},ii={class:"px-6 py-4 whitespace-nowrap text-sm"},ai=["onClick"],li=["onClick"],di={key:0,class:"text-center py-4 text-gray-500"},ci={class:"mt-4 flex justify-between items-center"},ui={class:"text-sm text-gray-500"};function gi(t,e,r,o,n,u){const d=P("AppHeader"),v=P("AppActions");return i(),a("div",zn,[L(d),s("main",Bn,[e[6]||(e[6]=s("h1",{class:"text-2xl font-bold mb-6"}," Data Tables ",-1)),s("div",qn,[s("div",Jn,[e[3]||(e[3]=s("div",null,[s("h2",{class:"text-xl font-semibold"}," Users Table "),s("p",{class:"text-gray-600"}," View and manage all system users ")],-1)),s("div",Gn,[J(s("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>t.searchTerm=l),type:"text",placeholder:"Search users...",class:"px-3 py-2 border border-gray-300 rounded-md"},null,512),[[Q,t.searchTerm]]),J(s("select",{"onUpdate:modelValue":e[1]||(e[1]=l=>t.sortBy=l),class:"px-3 py-2 border border-gray-300 rounded-md"},e[2]||(e[2]=[s("option",{value:"name"}," Sort by Name ",-1),s("option",{value:"email"}," Sort by Email ",-1),s("option",{value:"role"}," Sort by Role ",-1)]),512),[[fe,t.sortBy]])])]),s("div",Wn,[s("table",Yn,[e[4]||(e[4]=s("thead",null,[s("tr",null,[s("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Name "),s("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Email "),s("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Role "),s("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Skills "),s("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),s("tbody",Kn,[(i(!0),a(U,null,A(t.filteredUsers,l=>(i(),a("tr",{key:l.id},[s("td",Xn,[s("div",Zn,h(l.name),1)]),s("td",Qn,[s("div",ei,h(l.email),1)]),s("td",ti,[s("span",{class:D([{"bg-red-100 text-red-800":l.role==="admin","bg-blue-100 text-blue-800":l.role==="user"},"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},h(l.role),3)]),s("td",si,[l.skills&&l.skills.length?(i(),a("div",ri,[(i(!0),a(U,null,A(l.skills.slice(0,2),c=>(i(),a("span",{key:c,class:"inline-block bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded"},h(c),1))),128)),l.skills.length>2?(i(),a("span",oi," +"+h(l.skills.length-2),1)):M("",!0)])):(i(),a("div",ni," No skills listed "))]),s("td",ii,[s("button",{class:"text-blue-600 hover:text-blue-900 mr-3",onClick:c=>t.viewUser(l.id)}," View ",8,ai),t.isAdmin?(i(),a("button",{key:0,class:"text-indigo-600 hover:text-indigo-900",onClick:c=>t.editUser(l.id)}," Edit ",8,li)):M("",!0)])]))),128))])])]),t.filteredUsers.length===0?(i(),a("div",di," No users match your search criteria ")):M("",!0),s("div",ci,[s("div",ui," Showing "+h(t.filteredUsers.length)+" of "+h(t.userStore.users.length)+" users ",1),e[5]||(e[5]=s("div",{class:"flex space-x-2"},[s("button",{class:"px-3 py-1 border border-gray-300 rounded-md text-sm"}," Previous "),s("button",{class:"px-3 py-1 border border-gray-300 rounded-md text-sm"}," Next ")],-1))])])]),L(v)])}const mi=N(Nn,[["render",gi]]),hi=V({name:"MapView",components:{AppHeader:Z,AppActions:te},setup(){const t=G(),e=ee(),r=W(),{errorLogger:o,trackAsyncOperation:n}=Y("MapView"),u=k("all"),d=k([{name:"Max Mustermann",type:"user",distance:"1.2 km"},{name:"Sustainability Initiative",type:"project",distance:"0.8 km"},{name:"Julia Meier",type:"user",distance:"2.5 km"},{name:"Green Tech Hub",type:"project",distance:"3.1 km"}]),v=k([{name:"Urban Farming Network",owner:"Community Project",description:"Connecting urban gardens across the city"},{name:"Smart City Sensors",owner:"Tech Collective",description:"Monitoring air quality with IoT devices"},{name:"Tech Workshop Series",owner:"Education Initiative",description:"Regular workshops for skill sharing"}]),l=k([{name:"Home Office",type:"Home"},{name:"EcoTech Solutions",type:"Business"},{name:"Tech Meetup Space",type:"Community"}]);return B(async()=>{await n("initialize map view",async()=>{var c;try{if(!r.isAuthenticated){t.replace("/login");return}e.users.length===0&&await e.loadUsers(),o.debug("Map would be initialized here with a real mapping library"),o.info(`Map view loaded for user: ${(c=r.currentUser)==null?void 0:c.email}`)}catch(g){o.error("Error initializing map view",g)}})}),{mapView:u,nearbyItems:d,areaProjects:v,userLocations:l}}}),pi={class:"map-view"},fi={class:"container mx-auto py-6 px-4"},bi={class:"bg-white p-6 rounded-lg shadow-md"},vi={class:"flex justify-between items-center mb-4"},yi={class:"flex space-x-2"},wi={class:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-6"},xi={class:"bg-white p-6 rounded-lg shadow-md"},ki={class:"space-y-3"},$i={class:"text-sm font-medium"},Si={class:"text-xs text-gray-500"},Ci={class:"bg-white p-6 rounded-lg shadow-md"},Mi={class:"space-y-3"},_i={class:"text-sm font-medium"},Ui={class:"text-xs text-gray-500"},Ai={class:"text-xs mt-1"},Pi={class:"bg-white p-6 rounded-lg shadow-md"},ji={class:"space-y-3"},Ei={class:"text-sm font-medium"},Li={class:"text-xs text-gray-500"};function Di(t,e,r,o,n,u){const d=P("AppHeader"),v=P("AppActions");return i(),a("div",pi,[L(d),s("main",fi,[e[12]||(e[12]=s("h1",{class:"text-2xl font-bold mb-6"}," Interactive Map ",-1)),s("div",bi,[s("div",vi,[e[2]||(e[2]=s("div",null,[s("h2",{class:"text-xl font-semibold"}," User Locations "),s("p",{class:"text-gray-600"}," Visualize user locations and projects on the map ")],-1)),s("div",yi,[J(s("select",{"onUpdate:modelValue":e[0]||(e[0]=l=>t.mapView=l),class:"px-3 py-2 border border-gray-300 rounded-md"},e[1]||(e[1]=[s("option",{value:"users"}," Show Users ",-1),s("option",{value:"projects"}," Show Projects ",-1),s("option",{value:"all"}," Show All ",-1)]),512),[[fe,t.mapView]])])]),e[3]||(e[3]=re('<div class="map-container bg-gray-100 rounded-lg overflow-hidden" style="height:500px;" data-v-7c55d881><div class="flex items-center justify-center h-full" data-v-7c55d881><div class="text-center" data-v-7c55d881><div class="text-6xl text-gray-300 mb-4" data-v-7c55d881> 🗺️ </div><h3 class="text-lg font-medium text-gray-500" data-v-7c55d881> Interactive Map </h3><p class="text-gray-500" data-v-7c55d881> Users and projects would be displayed here on a real map </p></div></div></div><div class="mt-4 grid grid-cols-2 md:grid-cols-4 gap-2" data-v-7c55d881><div class="flex items-center" data-v-7c55d881><div class="h-3 w-3 rounded-full bg-blue-500 mr-2" data-v-7c55d881></div><span class="text-sm text-gray-600" data-v-7c55d881>Users</span></div><div class="flex items-center" data-v-7c55d881><div class="h-3 w-3 rounded-full bg-red-500 mr-2" data-v-7c55d881></div><span class="text-sm text-gray-600" data-v-7c55d881>Your Location</span></div><div class="flex items-center" data-v-7c55d881><div class="h-3 w-3 rounded-full bg-green-500 mr-2" data-v-7c55d881></div><span class="text-sm text-gray-600" data-v-7c55d881>Projects</span></div><div class="flex items-center" data-v-7c55d881><div class="h-3 w-3 rounded-full bg-purple-500 mr-2" data-v-7c55d881></div><span class="text-sm text-gray-600" data-v-7c55d881>Events</span></div></div>',2))]),s("div",wi,[s("div",xi,[e[4]||(e[4]=s("h3",{class:"font-medium mb-2"}," Near You ",-1)),e[5]||(e[5]=s("p",{class:"text-sm text-gray-600 mb-4"}," Users and projects in your vicinity ",-1)),s("div",ki,[(i(!0),a(U,null,A(t.nearbyItems,(l,c)=>(i(),a("div",{key:c,class:"flex items-center"},[s("div",{class:D([{"bg-blue-500":l.type==="user","bg-green-500":l.type==="project"},"h-2 w-2 rounded-full mr-3"])},null,2),s("div",null,[s("div",$i,h(l.name),1),s("div",Si,h(l.distance)+" away ",1)])]))),128))])]),s("div",Ci,[e[6]||(e[6]=s("h3",{class:"font-medium mb-2"}," Active Projects ",-1)),e[7]||(e[7]=s("p",{class:"text-sm text-gray-600 mb-4"}," Projects in selected area ",-1)),s("div",Mi,[(i(!0),a(U,null,A(t.areaProjects,(l,c)=>(i(),a("div",{key:c,class:"border-l-2 border-green-500 pl-3"},[s("div",_i,h(l.name),1),s("div",Ui,h(l.owner),1),s("div",Ai,h(l.description),1)]))),128))])]),s("div",Pi,[e[10]||(e[10]=s("h3",{class:"font-medium mb-2"}," Your Locations ",-1)),e[11]||(e[11]=s("p",{class:"text-sm text-gray-600 mb-4"}," Places you've marked ",-1)),s("div",ji,[(i(!0),a(U,null,A(t.userLocations,(l,c)=>(i(),a("div",{key:c,class:"flex items-center justify-between"},[s("div",null,[s("div",Ei,h(l.name),1),s("div",Li,h(l.type),1)]),e[8]||(e[8]=s("button",{class:"text-xs text-blue-600 hover:text-blue-800"}," Edit ",-1))]))),128)),e[9]||(e[9]=s("div",{class:"pt-2 mt-2 border-t border-gray-200"},[s("button",{class:"text-sm text-blue-600 hover:text-blue-800"}," Add New Location ")],-1))])])])]),L(v)])}const Ti=N(hi,[["render",Di],["__scopeId","data-v-7c55d881"]]),Ii=V({name:"VideoChatView",components:{AppHeader:Z,AppActions:te},setup(){const t=G(),e=ee(),r=W(),{errorLogger:o,trackAsyncOperation:n}=Y("VideoChatView"),u=k(!1),d=k(!0),v=k(!0),l=k(!1),c=k(""),g=k([]),y=k([{id:1,name:"Max Mustermann",status:"online"},{id:2,name:"Julia Meier",status:"online"},{id:3,name:"Thomas Schmidt",status:"offline"},{id:4,name:"Markus Weber",status:"busy"}]);return B(async()=>{await n("initialize video chat view",async()=>{var b;try{if(!r.isAuthenticated){t.replace("/login");return}e.users.length===0&&await e.loadUsers(),o.info(`Video chat view loaded for user: ${(b=r.currentUser)==null?void 0:b.email}`)}catch(C){o.error("Error initializing video chat view",C)}})}),{isConnected:u,isMicrophoneEnabled:d,isVideoEnabled:v,isScreenSharingEnabled:l,availableUsers:y,chatMessages:g,newMessage:c,startCall:b=>{o.debug(`Starting call with user ID: ${b}`),u.value=!0},endCall:()=>{o.debug("Ending call"),u.value=!1},toggleMicrophone:()=>{d.value=!d.value,o.debug(`Microphone ${d.value?"enabled":"disabled"}`)},toggleVideo:()=>{v.value=!v.value,o.debug(`Video ${v.value?"enabled":"disabled"}`)},toggleScreenSharing:()=>{l.value=!l.value,o.debug(`Screen sharing ${l.value?"enabled":"disabled"}`)},sendMessage:()=>{var b,C;c.value.trim()!==""&&(g.value.push({text:c.value,sender:((b=r.currentUser)==null?void 0:b.name)||((C=r.currentUser)==null?void 0:C.email),isFromMe:!0,time:new Date().toLocaleTimeString()}),c.value="",setTimeout(()=>{g.value.push({text:"Thanks for your message!",sender:"Remote User",isFromMe:!1,time:new Date().toLocaleTimeString()})},1e3))}}}}),Oi={class:"video-chat-view"},Ri={class:"container mx-auto py-6 px-4"},Fi={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Vi={class:"md:col-span-2"},Hi={class:"bg-white p-6 rounded-lg shadow-md"},Ni={class:"mb-4 flex justify-between items-center"},zi={class:"video-container bg-black rounded-lg overflow-hidden",style:{height:"400px"}},Bi={key:0,class:"flex items-center justify-center h-full"},qi={key:1,class:"relative h-full"},Ji={class:"mt-4 flex justify-center space-x-4"},Gi={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Wi={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"},Yi={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"},Ki={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Xi={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"},Zi={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"},Qi={class:"bg-white p-6 rounded-lg shadow-md mb-6"},ea={class:"space-y-2 max-h-60 overflow-y-auto"},ta={class:"font-medium"},sa={class:"flex items-center mt-1"},ra={class:"text-xs text-gray-500"},oa=["disabled","onClick"],na={class:"bg-white p-6 rounded-lg shadow-md"},ia={class:"chat-messages bg-gray-50 p-3 rounded-md h-64 overflow-y-auto mb-3"},aa={key:0,class:"flex items-center justify-center h-full"},la={class:"text-xs text-gray-600"},da={class:"text-xs text-gray-500 text-right"},ca={class:"flex"};function ua(t,e,r,o,n,u){const d=P("AppHeader"),v=P("AppActions");return i(),a("div",Oi,[L(d),s("main",Ri,[e[15]||(e[15]=s("h1",{class:"text-2xl font-bold mb-6"}," Video Chat ",-1)),s("div",Fi,[s("div",Vi,[s("div",Hi,[s("div",Ni,[e[7]||(e[7]=s("h2",{class:"text-xl font-semibold"}," Video Session ",-1)),s("div",null,[s("span",{class:D([t.isConnected?"bg-green-100 text-green-800":"bg-red-100 text-red-800","px-2 py-1 rounded-full text-xs"])},h(t.isConnected?"Connected":"Disconnected"),3)])]),s("div",zi,[t.isConnected?(i(),a("div",qi,e[9]||(e[9]=[re('<div class="w-full h-full bg-gray-800 flex items-center justify-center" data-v-5026ff09><p class="text-white" data-v-5026ff09> Remote video would appear here </p></div><div class="absolute bottom-4 right-4 w-32 h-24 bg-gray-600 rounded overflow-hidden border-2 border-gray-900" data-v-5026ff09><div class="w-full h-full flex items-center justify-center" data-v-5026ff09><p class="text-white text-xs" data-v-5026ff09> Your video </p></div></div>',2)]))):(i(),a("div",Bi,e[8]||(e[8]=[s("div",{class:"text-center"},[s("div",{class:"text-6xl text-gray-600 mb-4"}," 📹 "),s("p",{class:"text-gray-400"}," Start a video chat by connecting with a user ")],-1)])))]),s("div",Ji,[s("button",{class:D([t.isMicrophoneEnabled?"bg-blue-500 hover:bg-blue-600":"bg-gray-500","p-3 rounded-full text-white"]),onClick:e[0]||(e[0]=(...l)=>t.toggleMicrophone&&t.toggleMicrophone(...l))},[(i(),a("svg",Gi,[t.isMicrophoneEnabled?(i(),a("path",Wi)):(i(),a("path",Yi))]))],2),s("button",{class:D([t.isVideoEnabled?"bg-blue-500 hover:bg-blue-600":"bg-gray-500","p-3 rounded-full text-white"]),onClick:e[1]||(e[1]=(...l)=>t.toggleVideo&&t.toggleVideo(...l))},[(i(),a("svg",Ki,[t.isVideoEnabled?(i(),a("path",Xi)):(i(),a("path",Zi))]))],2),s("button",{class:D([t.isScreenSharingEnabled?"bg-green-500 hover:bg-green-600":"bg-blue-500 hover:bg-blue-600","p-3 rounded-full text-white"]),onClick:e[2]||(e[2]=(...l)=>t.toggleScreenSharing&&t.toggleScreenSharing(...l))},e[10]||(e[10]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)]),2),s("button",{class:"bg-red-500 hover:bg-red-600 p-3 rounded-full text-white",onClick:e[3]||(e[3]=(...l)=>t.endCall&&t.endCall(...l))},e[11]||(e[11]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 8l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2M5 3a2 2 0 00-2 2v1c0 8.284 6.716 15 15 15h1a2 2 0 002-2v-3.28a1 1 0 00-.684-.948l-4.493-1.498a1 1 0 00-1.21.502l-1.13 2.257a11.042 11.042 0 01-5.516-5.517l2.257-1.128a1 1 0 00.502-1.21L9.228 3.683A1 1 0 008.279 3H5z"})],-1)]))])])]),s("div",null,[s("div",Qi,[e[12]||(e[12]=s("h2",{class:"text-xl font-semibold mb-3"}," Available Users ",-1)),s("div",ea,[(i(!0),a(U,null,A(t.availableUsers,l=>(i(),a("div",{key:l.id,class:"border border-gray-200 p-2 rounded flex justify-between items-center"},[s("div",null,[s("span",ta,h(l.name),1),s("div",sa,[s("div",{class:D([l.status==="online"?"bg-green-500":"bg-gray-400","h-2 w-2 rounded-full mr-2"])},null,2),s("span",ra,h(l.status),1)])]),s("button",{disabled:l.status!=="online",class:D([l.status==="online"?"bg-blue-500 hover:bg-blue-600":"bg-gray-300 cursor-not-allowed","px-3 py-1 rounded text-white text-sm"]),onClick:c=>t.startCall(l.id)}," Call ",10,oa)]))),128))])]),s("div",na,[e[14]||(e[14]=s("h2",{class:"text-xl font-semibold mb-3"}," Chat ",-1)),s("div",ia,[t.chatMessages.length===0?(i(),a("div",aa,e[13]||(e[13]=[s("p",{class:"text-gray-500"}," No messages yet ",-1)]))):M("",!0),(i(!0),a(U,null,A(t.chatMessages,(l,c)=>(i(),a("div",{key:c,class:D(["mb-3 max-w-3/4 rounded-lg p-2",l.isFromMe?"ml-auto bg-blue-100":"bg-gray-100"])},[s("p",la,h(l.sender),1),s("p",null,h(l.text),1),s("p",da,h(l.time),1)],2))),128))]),s("div",ca,[J(s("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>t.newMessage=l),type:"text",placeholder:"Type a message...",class:"flex-1 px-3 py-2 border border-gray-300 rounded-l-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",onKeyup:e[5]||(e[5]=Ve((...l)=>t.sendMessage&&t.sendMessage(...l),["enter"]))},null,544),[[Q,t.newMessage]]),s("button",{class:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-r-md",onClick:e[6]||(e[6]=(...l)=>t.sendMessage&&t.sendMessage(...l))}," Send ")])])])])]),L(v)])}const ga=N(Ii,[["render",ua],["__scopeId","data-v-5026ff09"]]),ma=V({name:"ChatInterface",setup(){const t=k(!1),e=k(null),r=k(0),o=k([]),n=k(""),u=k(null),{trackChatConnection:d,trackChatMessage:v,trackChatError:l,trackUserStatus:c,errorLogger:g}=Y("ChatInterface"),y=z(()=>{var w;return t.value?`Connected (ID: ${(w=e.value)==null?void 0:w.substring(0,6)}...)`:"Disconnected"});B(()=>{p(),I.connect(),g.info("Chat interface initialized")}),be(()=>{m(),I.disconnect(),g.info("Chat interface destroyed")});const p=()=>{I.on("connected",$),I.on("disconnected",j),I.on("chatMessage",R),I.on("userCount",x)},m=()=>{I.off("connected",$),I.off("disconnected",j),I.off("chatMessage",R),I.off("userCount",x)},$=w=>{t.value=!0,e.value=w.id,d("connected",w.id,{timestamp:new Date().toISOString(),serverInfo:w.message||"Connected to chat server"}),C("Connected to chat server")},j=()=>{t.value=!1,d("disconnected",e.value,{reason:"Socket server disconnected",timestamp:new Date().toISOString()}),C("Disconnected from chat server")},R=w=>{const O=w.id===e.value;v("received",{id:w.id,from:w.id,timestamp:w.timestamp,content:w.message}),o.value.push({text:w.message,timestamp:new Date(w.timestamp||Date.now()),isOwn:O,sender:O?"You":`User ${w.id.substring(0,6)}...`}),T()},x=w=>{r.value=w,c("all",`${w} users online`)},b=()=>{if(!(!t.value||!n.value.trim()))try{const w=n.value;I.sendMessage(w)?(v("sent",{content:w,timestamp:new Date().toISOString(),from:e.value,to:"all"},!0),n.value=""):l("sending-message",new Error("Failed to send message"),{messageContent:w,socketId:e.value})}catch(w){l("sending-message",w,{messageContent:n.value})}},C=w=>{o.value.push({text:w,timestamp:new Date,isSystem:!0,sender:"System"}),T()},F=w=>new Date(w).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),T=()=>{He(()=>{u.value&&(u.value.scrollTop=u.value.scrollHeight)})};return{isConnected:t,socketId:e,userCount:r,connectionStatus:y,messages:o,newMessage:n,messagesContainer:u,sendMessage:b,formatTime:F}}}),ha={class:"chat-interface bg-white shadow-lg rounded-lg overflow-hidden dark:bg-gray-800"},pa={class:"px-4 py-3 bg-gray-100 border-b dark:bg-gray-700 dark:border-gray-600"},fa={class:"flex items-center justify-between"},ba={class:"flex items-center"},va={class:"font-medium text-sm dark:text-white"},ya={class:"text-sm text-gray-500 dark:text-gray-300"},wa={ref:"messagesContainer",class:"messages-container h-80 overflow-y-auto p-4 dark:bg-gray-800"},xa={key:0,class:"text-center text-gray-400 dark:text-gray-500 py-8"},ka={class:"flex items-center mb-1"},$a={class:"px-4 py-3 bg-gray-50 dark:bg-gray-700"},Sa=["disabled"],Ca=["disabled"];function Ma(t,e,r,o,n,u){return i(),a("div",ha,[s("div",pa,[s("div",fa,[s("div",ba,[s("div",{class:D(["w-3 h-3 rounded-full mr-2",t.isConnected?"bg-green-500":"bg-red-500"])},null,2),s("span",va,h(t.connectionStatus),1)]),s("div",ya,h(t.userCount>0?`${t.userCount} online`:""),1)])]),s("div",wa,[t.messages.length===0?(i(),a("div",xa," No messages yet ")):M("",!0),(i(!0),a(U,null,A(t.messages,(d,v)=>(i(),a("div",{key:v,class:D(["mb-3 max-w-3/4 p-3 rounded-lg",d.isOwn?"ml-auto bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 dark:text-white"])},[s("div",ka,[s("span",{class:D(["font-semibold text-xs",{"text-white":d.isOwn}])},h(d.isOwn?"You":d.sender||"Anonymous"),3),s("span",{class:D(["ml-2 text-xs opacity-75",{"text-white":d.isOwn}])},h(t.formatTime(d.timestamp)),3)]),s("p",{class:D({"text-white":d.isOwn})},h(d.text),3)],2))),128))],512),s("div",$a,[s("form",{class:"flex",onSubmit:e[1]||(e[1]=Ae((...d)=>t.sendMessage&&t.sendMessage(...d),["prevent"]))},[J(s("input",{"onUpdate:modelValue":e[0]||(e[0]=d=>t.newMessage=d),type:"text",placeholder:"Type a message...",class:"flex-grow bg-white dark:bg-gray-800 dark:text-white px-3 py-2 rounded-l-md border focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!t.isConnected},null,8,Sa),[[Q,t.newMessage]]),s("button",{type:"submit",class:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-r-md transition",disabled:!t.isConnected||!t.newMessage.trim()}," Send ",8,Ca)],32)])])}const _a=N(ma,[["render",Ma],["__scopeId","data-v-3bef1d28"]]),Ua=V({name:"ChatPage",components:{AppHeader:Z,ChatInterface:_a}}),Aa={class:"flex flex-col h-screen"},Pa={class:"flex-1 overflow-hidden bg-gray-50 dark:bg-gray-900"},ja={class:"container mx-auto px-4 py-6 h-full"},Ea={class:"grid grid-cols-1 lg:grid-cols-4 gap-6 h-[calc(100%-4rem)]"},La={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 lg:col-span-1 overflow-hidden flex flex-col"},Da={class:"flex-1 overflow-y-auto"},Ta={class:"w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center text-white mr-3"},Ia={class:"flex-1 min-w-0"},Oa={class:"font-medium truncate dark:text-white"},Ra={class:"text-xs text-gray-500 dark:text-gray-400"},Fa={key:0,class:"w-5 h-5 bg-blue-500 rounded-full text-white flex items-center justify-center mt-1 ml-auto"},Va={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-0 lg:col-span-3 flex flex-col overflow-hidden"},Ha={class:"flex-1 p-4 overflow-y-auto"};function Na(t,e,r,o,n,u){const d=P("AppHeader"),v=P("ChatInterface");return i(),a("div",Aa,[L(d),s("div",Pa,[s("div",ja,[e[4]||(e[4]=s("h1",{class:"text-2xl font-bold mb-6 dark:text-white"}," Chat ",-1)),s("div",Ea,[s("div",La,[e[1]||(e[1]=re('<h2 class="font-bold text-lg mb-4 dark:text-white"> Conversations </h2><div class="relative"><input type="text" placeholder="Search..." class="w-full px-3 py-2 border rounded-md mb-4 dark:bg-gray-700 dark:text-white dark:border-gray-600"><svg class="w-5 h-5 absolute right-3 top-2.5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div>',2)),s("div",Da,[(i(),a(U,null,A(10,l=>s("div",{key:l,class:D(["p-3 rounded-md mb-1 cursor-pointer flex items-center",l===1?"bg-blue-50 dark:bg-blue-900":"hover:bg-gray-100 dark:hover:bg-gray-700"])},[s("div",Ta,h(l),1),s("div",Ia,[s("p",Oa," User "+h(l),1),e[0]||(e[0]=s("p",{class:"text-sm text-gray-500 truncate dark:text-gray-400"}," Latest message here... ",-1))]),s("div",Ra,[s("span",null,h(l%3===0?"Yesterday":"10:24"),1),l%4===0?(i(),a("div",Fa," 2 ")):M("",!0)])],2)),64))])]),s("div",Va,[e[2]||(e[2]=re('<div class="border-b px-4 py-3 flex items-center dark:border-gray-700"><div class="w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center text-white mr-3"> 1 </div><div><h3 class="font-medium dark:text-white"> User 1 </h3><p class="text-xs text-green-500"> Online </p></div><div class="ml-auto"><button class="p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"></path></svg></button></div></div>',1)),s("div",Ha,[L(v)]),e[3]||(e[3]=s("div",{class:"border-t p-4 dark:border-gray-700"},[s("div",{class:"flex items-end"},[s("textarea",{rows:"1",placeholder:"Type a message...",class:"flex-1 p-2 border rounded-l-md resize-none focus:outline-none focus:ring-1 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),s("button",{class:"px-4 py-2 bg-blue-500 text-white rounded-r-md hover:bg-blue-600 transition"}," Send ")])],-1))])])])])])}const za=N(Ua,[["render",Na]]),Ba="./",qa=[{path:"/",name:"Dashboard",component:mr,meta:{requiresAuth:!0}},{path:"/admin",name:"Admin",component:qr,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/matching",name:"Matching",component:vn,meta:{requiresAuth:!0}},{path:"/projects",name:"Projects",component:Hn,meta:{requiresAuth:!0}},{path:"/table",name:"Table",component:mi,meta:{requiresAuth:!0}},{path:"/map",name:"Map",component:Ti,meta:{requiresAuth:!0}},{path:"/videochat",name:"VideoChat",component:ga,meta:{requiresAuth:!0}},{path:"/chat",name:"Chat",component:za,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:rs,meta:{guest:!0}},{path:"/docs",name:"Docs",beforeEnter:()=>{window.location.href="/documentation/"},meta:{guest:!0}},{path:"/:pathMatch(.*)*",name:"NotFound",component:Xr}],ve=Ne({history:ze(Ba),routes:qa,scrollBehavior(t,e,r){return r||{top:0}}});ve.beforeEach((t,e,r)=>{var o;f.debug(`Navigation requested: ${e.path} → ${t.path}`);try{const n=W(),u=n.isAuthenticated,d=(o=n.currentUser)==null?void 0:o.role;f.debug(`Auth check for navigation: ${u?"Authenticated":"Not authenticated"}, Role: ${d||"none"}`),t.matched.some(v=>v.meta.requiresAdmin)?u?d!=="admin"?(f.warn(`Access denied: ${t.path} requires admin role, current role: ${d}`),r("/")):(f.debug(`Authorized admin navigation to: ${t.path}`),r()):(f.warn(`Redirecting to login: ${t.path} requires authentication`),r("/login")):t.matched.some(v=>v.meta.requiresAuth)?u?(f.debug(`Authorized navigation to: ${t.path}`),r()):(f.debug(`Redirecting to login: ${t.path} requires authentication`),r("/login")):t.matched.some(v=>v.meta.guest)?u?(f.debug("Redirecting to dashboard: user already authenticated"),r("/")):(f.debug(`Guest navigation to: ${t.path}`),r()):(f.debug(`Public navigation to: ${t.path}`),r())}catch(n){f.error("Navigation guard error",n),r("/login")}});ve.afterEach(t=>{f.info(`Navigation completed to: ${t.path}`,{route:t.name,params:t.params,query:t.query})});const Ja=Be(),me=qe(Rt);me.config.errorHandler=(t,e,r)=>{var o;f.error(`Global error: ${r}`,t,{component:((o=e==null?void 0:e.$options)==null?void 0:o.name)||"Unknown"})};ve.beforeEach((t,e,r)=>{try{f.trackViewLoad(t.name||"unknown"),f.debug(`Navigation: ${e.path} → ${t.path}`),r()}catch(o){f.error("Router error",o),r(o)}});me.provide("errorLogger",f);me.provide("darkMode",je);me.use(Ja).use(ve).mount("#app");f.info("Application started",{timestamp:new Date().toISOString(),vueVersion:me.version});window.errorLogger=f;
