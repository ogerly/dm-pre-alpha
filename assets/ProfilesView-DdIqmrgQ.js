import{b as y,e as i,f as s,n as h,v as x,F as u,k as m,i as g,a as v,p as w,c as _,u as k,o as l,l as f,t as n}from"./vendor-nfeM4UEA.js";import{_ as L,u as P,e as d}from"./index-D2_YXTeT.js";const C=y({name:"ProfilesView",setup(){const t=P();k();const o=v("");w(async()=>{if(t.users.length===0)try{await t.loadUsers(),d.info("Profiles loaded successfully",{count:t.users.length})}catch(r){d.error("Failed to load profiles",r)}});const c=_(()=>{if(!o.value)return t.users;const r=o.value.toLowerCase();return t.users.filter(e=>e.name&&e.name.toLowerCase().includes(r)||e.email&&e.email.toLowerCase().includes(r)||e.bio&&e.bio.toLowerCase().includes(r)||e.location&&e.location.toLowerCase().includes(r)||e.skills&&e.skills.some(a=>a.toLowerCase().includes(r)))});return{userStore:t,searchQuery:o,filteredProfiles:c,loadUsers:async()=>{try{await t.loadUsers(),d.info("Profiles refreshed",{count:t.users.length})}catch(r){d.error("Failed to refresh profiles",r)}},viewProfileDetail:r=>{d.info("Viewing profile details",{profileId:r}),alert(`Viewing profile ${r} - This would navigate to a detail page in a real app`)}}}}),U={class:"container mx-auto p-4"},V={class:"mb-6"},S={class:"flex items-center mb-4"},N={class:"ml-4"},$=["disabled"],D={key:0,class:"text-center py-8"},F={key:1,class:"bg-gray-100 p-8 text-center rounded-lg"},B={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Q={class:"flex justify-between items-start mb-3"},T={class:"text-xl font-semibold"},j={class:"text-gray-500"},M={key:0,class:"bg-red-100 text-red-800 text-xs font-medium px-2.5 py-0.5 rounded"},R={class:"mb-4"},q={class:"text-gray-700"},A={class:"mb-3"},E={class:"flex flex-wrap gap-1"},I={key:0,class:"text-gray-500 text-sm"},z={class:"mt-4 pt-4 border-t flex justify-end"},G=["onClick"];function H(t,o,c,p,b,r){return l(),i("div",U,[o[6]||(o[6]=s("h1",{class:"text-2xl font-bold mb-4"}," User Profiles ",-1)),s("div",V,[s("div",S,[h(s("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>t.searchQuery=e),type:"text",placeholder:"Search profiles...",class:"px-3 py-2 border border-gray-300 rounded-md w-full md:w-64"},null,512),[[x,t.searchQuery]]),s("div",N,[s("button",{class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",disabled:t.userStore.isLoading,onClick:o[1]||(o[1]=(...e)=>t.loadUsers&&t.loadUsers(...e))},[t.userStore.isLoading?(l(),i(u,{key:0},[m(" Loading... ")],64)):(l(),i(u,{key:1},[m(" Refresh ")],64))],8,$)])])]),t.userStore.isLoading?(l(),i("div",D,o[2]||(o[2]=[s("div",{class:"inline-block animate-spin h-8 w-8 border-4 border-blue-500 border-t-transparent rounded-full"},null,-1),s("p",{class:"mt-2 text-gray-600"}," Loading profiles... ",-1)]))):t.filteredProfiles.length===0?(l(),i("div",F,o[3]||(o[3]=[s("p",{class:"text-gray-600"}," No profiles found matching your search criteria. ",-1)]))):(l(),i("div",B,[(l(!0),i(u,null,g(t.filteredProfiles,e=>(l(),i("div",{key:e.id,class:"bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow"},[s("div",Q,[s("div",null,[s("h3",T,n(e.name),1),s("p",j,n(e.email),1)]),e.role==="admin"?(l(),i("span",M," Admin ")):f("",!0)]),s("div",R,[s("p",q,n(e.bio||"No bio provided"),1)]),s("div",A,[o[4]||(o[4]=s("p",{class:"text-sm text-gray-600 font-medium mb-1"}," Location: ",-1)),s("p",null,n(e.location||"Not specified"),1)]),s("div",null,[o[5]||(o[5]=s("p",{class:"text-sm text-gray-600 font-medium mb-1"}," Skills: ",-1)),s("div",E,[(l(!0),i(u,null,g(e.skills||[],a=>(l(),i("span",{key:a,class:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded"},n(a),1))),128)),!e.skills||e.skills.length===0?(l(),i("span",I," No skills listed ")):f("",!0)])]),s("div",z,[s("button",{class:"text-blue-600 hover:text-blue-800 text-sm font-medium",onClick:a=>t.viewProfileDetail(e.id)}," View Profile ",8,G)])]))),128))]))])}const O=L(C,[["render",H]]);export{O as default};
