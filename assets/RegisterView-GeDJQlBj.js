import{b as V,e as n,f as e,l as b,k as y,g as z,w as M,h as P,m as U,n as f,v as g,t as l,J as A,y as d,a as w,c as i,u as R,o as u}from"./vendor-DZFa3d4i.js";import{_ as N,a as B,e as h}from"./index-D5K5PIh6.js";const $=V({name:"RegisterView",setup(){const s=R(),r=B(),v=w(""),p=w(""),t=w(""),m=w(""),c=i(()=>/[A-Z]/.test(t.value)),o=i(()=>/\d/.test(t.value)),x=i(()=>/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(t.value)),C=i(()=>t.value===m.value),k=i(()=>{if(!t.value)return 0;let a=0;return t.value.length>=8&&(a+=25),t.value.length>=12&&(a+=10),c.value&&(a+=20),o.value&&(a+=20),x.value&&(a+=25),Math.min(a,100)}),S=i(()=>p.value.trim()!==""&&t.value.trim()!==""&&m.value.trim()!==""&&C.value&&t.value.length>=8);return{name:v,email:p,password:t,confirmPassword:m,authStore:r,handleRegister:async()=>{if(!S.value){h.warn("Attempted to submit invalid registration form");return}try{await r.register({name:v.value,email:p.value,password:t.value})?(h.info("User registered successfully"),s.push("/")):h.warn("Registration failed")}catch(a){h.error("Unexpected error during registration",a)}},hasUppercaseChar:c,hasNumberChar:o,hasSpecialChar:x,passwordStrength:k,passwordsMatch:C,isFormValid:S}}}),F={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},q={class:"max-w-md w-full space-y-8"},E={class:"mt-2 text-center text-sm text-gray-600"},H={class:"rounded-md shadow-sm -space-y-px"},j=["disabled"],D={class:"absolute left-0 inset-y-0 flex items-center pl-3"},T={key:0,class:"h-5 w-5 text-blue-500 group-hover:text-blue-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},J={key:1,class:"animate-spin h-5 w-5 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},L={key:0,class:"mt-2"},O={class:"h-2 bg-gray-200 rounded-full"},Z={class:"text-xs text-gray-500 mt-1 space-y-1"},G={key:1,class:"mt-2"},I={key:2,class:"mt-4"},K={class:"bg-red-50 border-l-4 border-red-400 p-4"},Q={class:"flex"},W={class:"ml-3"},X={class:"text-sm text-red-700"};function Y(s,r,v,p,t,m){const c=P("router-link");return u(),n("div",F,[e("div",q,[e("div",null,[r[7]||(r[7]=e("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," Create a new account ",-1)),e("p",E,[r[6]||(r[6]=y(" Or ")),z(c,{to:"/login",class:"font-medium text-blue-600 hover:text-blue-500"},{default:M(()=>r[5]||(r[5]=[y(" sign in to your existing account ")])),_:1})])]),e("form",{class:"mt-8 space-y-6",onSubmit:r[4]||(r[4]=U((...o)=>s.handleRegister&&s.handleRegister(...o),["prevent"]))},[e("div",H,[e("div",null,[r[8]||(r[8]=e("label",{for:"name",class:"sr-only"},"Full name",-1)),f(e("input",{id:"name","onUpdate:modelValue":r[0]||(r[0]=o=>s.name=o),name:"name",type:"text",autocomplete:"name",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Full name"},null,512),[[g,s.name]])]),e("div",null,[r[9]||(r[9]=e("label",{for:"email-address",class:"sr-only"},"Email address",-1)),f(e("input",{id:"email-address","onUpdate:modelValue":r[1]||(r[1]=o=>s.email=o),name:"email",type:"email",autocomplete:"email",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address"},null,512),[[g,s.email]])]),e("div",null,[r[10]||(r[10]=e("label",{for:"password",class:"sr-only"},"Password",-1)),f(e("input",{id:"password","onUpdate:modelValue":r[2]||(r[2]=o=>s.password=o),name:"password",type:"password",autocomplete:"new-password",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password"},null,512),[[g,s.password]])]),e("div",null,[r[11]||(r[11]=e("label",{for:"confirm-password",class:"sr-only"},"Confirm password",-1)),f(e("input",{id:"confirm-password","onUpdate:modelValue":r[3]||(r[3]=o=>s.confirmPassword=o),name:"confirm-password",type:"password",autocomplete:"new-password",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Confirm password"},null,512),[[g,s.confirmPassword]])])]),e("div",null,[e("button",{type:"submit",class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:s.authStore.loading||!s.isFormValid},[e("span",D,[s.authStore.loading?(u(),n("svg",J,r[13]||(r[13]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(u(),n("svg",T,r[12]||(r[12]=[e("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule":"evenodd"},null,-1)])))]),y(" "+l(s.authStore.loading?"Creating account...":"Create account"),1)],8,j)])],32),s.password?(u(),n("div",L,[r[14]||(r[14]=e("p",{class:"text-sm mb-1"}," Password strength: ",-1)),e("div",O,[e("div",{class:d(["h-full rounded-full transition-all duration-300",{"bg-red-500":s.passwordStrength<40,"bg-yellow-500":s.passwordStrength>=40&&s.passwordStrength<70,"bg-green-500":s.passwordStrength>=70}]),style:A(`width: ${s.passwordStrength}%`)},null,6)]),e("ul",Z,[e("li",{class:d({"text-green-600":s.password.length>=8})},l(s.password.length>=8?"✓":"×")+" At least 8 characters ",3),e("li",{class:d({"text-green-600":s.hasSpecialChar})},l(s.hasSpecialChar?"✓":"×")+" At least one special character ",3),e("li",{class:d({"text-green-600":s.hasNumberChar})},l(s.hasNumberChar?"✓":"×")+" At least one number ",3),e("li",{class:d({"text-green-600":s.hasUppercaseChar})},l(s.hasUppercaseChar?"✓":"×")+" At least one uppercase letter ",3)])])):b("",!0),s.password&&s.confirmPassword?(u(),n("div",G,[e("p",{class:d([{"text-green-600":s.passwordsMatch,"text-red-600":!s.passwordsMatch},"text-sm"])},l(s.passwordsMatch?"✓ Passwords match":"× Passwords do not match"),3)])):b("",!0),s.authStore.error?(u(),n("div",I,[e("div",K,[e("div",Q,[r[15]||(r[15]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})])],-1)),e("div",W,[e("p",X,l(s.authStore.error),1)])])])])):b("",!0)])])}const re=N($,[["render",Y]]);export{re as default};
